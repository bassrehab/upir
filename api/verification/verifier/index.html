
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Universal Plan Intermediate Representation - Formal verification, synthesis, and optimization for distributed systems">
      
      
        <meta name="author" content="Subhadip Mitra">
      
      
        <link rel="canonical" href="https://upir.subhadipmitra.com/api/verification/verifier/">
      
      
        <link rel="prev" href="../../core/evidence/">
      
      
        <link rel="next" href="../solver/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>Verifier - UPIR Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="amber" data-md-color-accent="amber">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#verifier" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="UPIR Documentation" class="md-header__button md-logo" aria-label="UPIR Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            UPIR Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Verifier
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="amber" data-md-color-accent="amber"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="amber" data-md-color-accent="amber"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/bassrehab/upir" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    bassrehab/upir
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../getting-started/installation/" class="md-tabs__link">
          
  
  
  Getting Started

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../guide/specifications/" class="md-tabs__link">
          
  
  
  User Guide

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../core/upir/" class="md-tabs__link">
          
  
  
  API Reference

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../examples/streaming/" class="md-tabs__link">
          
  
  
  Examples

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../contributing/setup/" class="md-tabs__link">
          
  
  
  Contributing

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../about/attribution/" class="md-tabs__link">
          
  
  
  About

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="UPIR Documentation" class="md-nav__button md-logo" aria-label="UPIR Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    UPIR Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/bassrehab/upir" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    bassrehab/upir
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Getting Started
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting-started/installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting-started/quickstart/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Quick Start
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting-started/concepts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Core Concepts
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    User Guide
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    User Guide
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../guide/specifications/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Formal Specifications
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../guide/verification/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Verification
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../guide/synthesis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Synthesis
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../guide/learning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Learning & Optimization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../guide/patterns/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Pattern Library
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    API Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    API Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_1" >
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Core
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Core
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../core/upir/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    UPIR
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../core/architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../core/specification/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Specification
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../core/temporal/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Temporal Logic
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../core/evidence/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Evidence
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" checked>
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Verification
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Verification
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Verifier
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Verifier
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#class-documentation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Class Documentation
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#upir.verification.verifier.Verifier" class="md-nav__link">
    <span class="md-ellipsis">
      
        Verifier
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Verifier">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#upir.verification.verifier.Verifier-functions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Functions
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#upir.verification.verifier.Verifier.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upir.verification.verifier.Verifier.verify_property" class="md-nav__link">
    <span class="md-ellipsis">
      
        verify_property
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upir.verification.verifier.Verifier.verify_specification" class="md-nav__link">
    <span class="md-ellipsis">
      
        verify_specification
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upir.verification.verifier.Verifier.verify_incremental" class="md-nav__link">
    <span class="md-ellipsis">
      
        verify_incremental
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="verify_incremental">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#upir.verification.verifier.Verifier.verify_incremental--initial-verification-all-cache-misses" class="md-nav__link">
    <span class="md-ellipsis">
      
        Initial verification (all cache misses)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upir.verification.verifier.Verifier.verify_incremental--first-verification-all-misses" class="md-nav__link">
    <span class="md-ellipsis">
      
        First verification - all misses
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upir.verification.verifier.Verifier.verify_incremental--info-cache-statistics-0-hits-3-misses-hit-rate-00" class="md-nav__link">
    <span class="md-ellipsis">
      
        INFO: Cache statistics: 0 hits, 3 misses, hit rate: 0.0%
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upir.verification.verifier.Verifier.verify_incremental--second-verification-with-one-change-2-hits-1-miss" class="md-nav__link">
    <span class="md-ellipsis">
      
        Second verification with one change - 2 hits, 1 miss
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upir.verification.verifier.Verifier.verify_incremental--info-cache-statistics-2-hits-4-misses-hit-rate-333" class="md-nav__link">
    <span class="md-ellipsis">
      
        INFO: Cache statistics: 2 hits, 4 misses, hit rate: 33.3%
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upir.verification.verifier.Verifier.verify_incremental--third-verification-with-no-changes-3-hits-0-new-misses" class="md-nav__link">
    <span class="md-ellipsis">
      
        Third verification with no changes - 3 hits, 0 new misses
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upir.verification.verifier.Verifier.verify_incremental--info-cache-statistics-5-hits-4-misses-hit-rate-556" class="md-nav__link">
    <span class="md-ellipsis">
      
        INFO: Cache statistics: 5 hits, 4 misses, hit rate: 55.6%
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upir.verification.verifier.Verifier.__str__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __str__
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage-example" class="md-nav__link">
    <span class="md-ellipsis">
      
        Usage Example
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#incremental-verification" class="md-nav__link">
    <span class="md-ellipsis">
      
        Incremental Verification
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#see-also" class="md-nav__link">
    <span class="md-ellipsis">
      
        See Also
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../solver/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SMT Solver
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Synthesis
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Synthesis
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../synthesis/cegis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CEGIS
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../synthesis/sketch/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sketch
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_4" >
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Learning
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Learning
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../learning/learner/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    RL Optimizer
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../learning/ppo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    PPO
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_5" >
        
          
          <label class="md-nav__link" for="__nav_4_5" id="__nav_4_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Patterns
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Patterns
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../patterns/pattern/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Pattern
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../patterns/extractor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Pattern Extractor
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../patterns/library/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Pattern Library
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Examples
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Examples
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/streaming/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Streaming Pipeline
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/batch/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Batch Processing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/patterns/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Custom Patterns
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Contributing
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Contributing
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Development Setup
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/style/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Code Style
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/testing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Testing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    About
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    About
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../about/attribution/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Attribution
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../about/license/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    License
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../about/references/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    References
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#class-documentation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Class Documentation
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#upir.verification.verifier.Verifier" class="md-nav__link">
    <span class="md-ellipsis">
      
        Verifier
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Verifier">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#upir.verification.verifier.Verifier-functions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Functions
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#upir.verification.verifier.Verifier.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upir.verification.verifier.Verifier.verify_property" class="md-nav__link">
    <span class="md-ellipsis">
      
        verify_property
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upir.verification.verifier.Verifier.verify_specification" class="md-nav__link">
    <span class="md-ellipsis">
      
        verify_specification
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upir.verification.verifier.Verifier.verify_incremental" class="md-nav__link">
    <span class="md-ellipsis">
      
        verify_incremental
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="verify_incremental">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#upir.verification.verifier.Verifier.verify_incremental--initial-verification-all-cache-misses" class="md-nav__link">
    <span class="md-ellipsis">
      
        Initial verification (all cache misses)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upir.verification.verifier.Verifier.verify_incremental--first-verification-all-misses" class="md-nav__link">
    <span class="md-ellipsis">
      
        First verification - all misses
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upir.verification.verifier.Verifier.verify_incremental--info-cache-statistics-0-hits-3-misses-hit-rate-00" class="md-nav__link">
    <span class="md-ellipsis">
      
        INFO: Cache statistics: 0 hits, 3 misses, hit rate: 0.0%
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upir.verification.verifier.Verifier.verify_incremental--second-verification-with-one-change-2-hits-1-miss" class="md-nav__link">
    <span class="md-ellipsis">
      
        Second verification with one change - 2 hits, 1 miss
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upir.verification.verifier.Verifier.verify_incremental--info-cache-statistics-2-hits-4-misses-hit-rate-333" class="md-nav__link">
    <span class="md-ellipsis">
      
        INFO: Cache statistics: 2 hits, 4 misses, hit rate: 33.3%
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upir.verification.verifier.Verifier.verify_incremental--third-verification-with-no-changes-3-hits-0-new-misses" class="md-nav__link">
    <span class="md-ellipsis">
      
        Third verification with no changes - 3 hits, 0 new misses
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upir.verification.verifier.Verifier.verify_incremental--info-cache-statistics-5-hits-4-misses-hit-rate-556" class="md-nav__link">
    <span class="md-ellipsis">
      
        INFO: Cache statistics: 5 hits, 4 misses, hit rate: 55.6%
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upir.verification.verifier.Verifier.__str__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __str__
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage-example" class="md-nav__link">
    <span class="md-ellipsis">
      
        Usage Example
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#incremental-verification" class="md-nav__link">
    <span class="md-ellipsis">
      
        Incremental Verification
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#see-also" class="md-nav__link">
    <span class="md-ellipsis">
      
        See Also
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="verifier">Verifier<a class="headerlink" href="#verifier" title="Permanent link">&para;</a></h1>
<p>SMT-based formal verification of specifications.</p>
<hr />
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>The <code>Verifier</code> class uses Z3 SMT solver to prove that architectures satisfy specifications:</p>
<ul>
<li>Encodes temporal properties as SMT formulas</li>
<li>Checks satisfiability using Z3</li>
<li>Caches proofs for incremental verification</li>
<li>Returns verification results with counterexamples</li>
</ul>
<hr />
<h2 id="class-documentation">Class Documentation<a class="headerlink" href="#class-documentation" title="Permanent link">&para;</a></h2>


<div class="doc doc-object doc-class">



<h2 id="upir.verification.verifier.Verifier" class="doc doc-heading">
            <code>upir.verification.verifier.Verifier</code>


<a href="#upir.verification.verifier.Verifier" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents first">



        <p>Main verification engine using Z3 SMT solver.</p>
<p>The verifier encodes distributed system architectures and temporal
properties as SMT constraints and uses Z3 to prove or disprove them.
Supports caching of results and bounded model checking for temporal
properties.</p>
<p>Per TD Commons disclosure, verification is the foundation of UPIR,
enabling formal guarantees about system behavior.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="upir.verification.verifier.Verifier.timeout">timeout</span></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Verification timeout in milliseconds (default: 30000 = 30s)</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="upir.verification.verifier.Verifier.enable_cache">enable_cache</span></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to cache verification results</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="upir.verification.verifier.Verifier.cache">cache</span></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Proof cache instance (if caching enabled)</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="upir.verification.verifier.Verifier.cache_size">cache_size</span></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Maximum cache size with LRU eviction (default: 1000)</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>verifier = Verifier(timeout=30000, enable_cache=True, cache_size=1000)
result = verifier.verify_property(property, architecture)
if result.verified:
...     print("Property proved!")
... else:
...     print(f"Status: {result.status}")</p>
</blockquote>
</blockquote>
</blockquote>
</details>        <p>References:
- TD Commons: https://www.tdcommons.org/dpubs_series/8852/
- Z3: https://z3prover.github.io/api/html/namespacez3py.html
- Bounded model checking: Clarke et al. (1999)</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>upir/verification/verifier.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-266">266</a></span>
<span class="normal"><a href="#__codelineno-0-267">267</a></span>
<span class="normal"><a href="#__codelineno-0-268">268</a></span>
<span class="normal"><a href="#__codelineno-0-269">269</a></span>
<span class="normal"><a href="#__codelineno-0-270">270</a></span>
<span class="normal"><a href="#__codelineno-0-271">271</a></span>
<span class="normal"><a href="#__codelineno-0-272">272</a></span>
<span class="normal"><a href="#__codelineno-0-273">273</a></span>
<span class="normal"><a href="#__codelineno-0-274">274</a></span>
<span class="normal"><a href="#__codelineno-0-275">275</a></span>
<span class="normal"><a href="#__codelineno-0-276">276</a></span>
<span class="normal"><a href="#__codelineno-0-277">277</a></span>
<span class="normal"><a href="#__codelineno-0-278">278</a></span>
<span class="normal"><a href="#__codelineno-0-279">279</a></span>
<span class="normal"><a href="#__codelineno-0-280">280</a></span>
<span class="normal"><a href="#__codelineno-0-281">281</a></span>
<span class="normal"><a href="#__codelineno-0-282">282</a></span>
<span class="normal"><a href="#__codelineno-0-283">283</a></span>
<span class="normal"><a href="#__codelineno-0-284">284</a></span>
<span class="normal"><a href="#__codelineno-0-285">285</a></span>
<span class="normal"><a href="#__codelineno-0-286">286</a></span>
<span class="normal"><a href="#__codelineno-0-287">287</a></span>
<span class="normal"><a href="#__codelineno-0-288">288</a></span>
<span class="normal"><a href="#__codelineno-0-289">289</a></span>
<span class="normal"><a href="#__codelineno-0-290">290</a></span>
<span class="normal"><a href="#__codelineno-0-291">291</a></span>
<span class="normal"><a href="#__codelineno-0-292">292</a></span>
<span class="normal"><a href="#__codelineno-0-293">293</a></span>
<span class="normal"><a href="#__codelineno-0-294">294</a></span>
<span class="normal"><a href="#__codelineno-0-295">295</a></span>
<span class="normal"><a href="#__codelineno-0-296">296</a></span>
<span class="normal"><a href="#__codelineno-0-297">297</a></span>
<span class="normal"><a href="#__codelineno-0-298">298</a></span>
<span class="normal"><a href="#__codelineno-0-299">299</a></span>
<span class="normal"><a href="#__codelineno-0-300">300</a></span>
<span class="normal"><a href="#__codelineno-0-301">301</a></span>
<span class="normal"><a href="#__codelineno-0-302">302</a></span>
<span class="normal"><a href="#__codelineno-0-303">303</a></span>
<span class="normal"><a href="#__codelineno-0-304">304</a></span>
<span class="normal"><a href="#__codelineno-0-305">305</a></span>
<span class="normal"><a href="#__codelineno-0-306">306</a></span>
<span class="normal"><a href="#__codelineno-0-307">307</a></span>
<span class="normal"><a href="#__codelineno-0-308">308</a></span>
<span class="normal"><a href="#__codelineno-0-309">309</a></span>
<span class="normal"><a href="#__codelineno-0-310">310</a></span>
<span class="normal"><a href="#__codelineno-0-311">311</a></span>
<span class="normal"><a href="#__codelineno-0-312">312</a></span>
<span class="normal"><a href="#__codelineno-0-313">313</a></span>
<span class="normal"><a href="#__codelineno-0-314">314</a></span>
<span class="normal"><a href="#__codelineno-0-315">315</a></span>
<span class="normal"><a href="#__codelineno-0-316">316</a></span>
<span class="normal"><a href="#__codelineno-0-317">317</a></span>
<span class="normal"><a href="#__codelineno-0-318">318</a></span>
<span class="normal"><a href="#__codelineno-0-319">319</a></span>
<span class="normal"><a href="#__codelineno-0-320">320</a></span>
<span class="normal"><a href="#__codelineno-0-321">321</a></span>
<span class="normal"><a href="#__codelineno-0-322">322</a></span>
<span class="normal"><a href="#__codelineno-0-323">323</a></span>
<span class="normal"><a href="#__codelineno-0-324">324</a></span>
<span class="normal"><a href="#__codelineno-0-325">325</a></span>
<span class="normal"><a href="#__codelineno-0-326">326</a></span>
<span class="normal"><a href="#__codelineno-0-327">327</a></span>
<span class="normal"><a href="#__codelineno-0-328">328</a></span>
<span class="normal"><a href="#__codelineno-0-329">329</a></span>
<span class="normal"><a href="#__codelineno-0-330">330</a></span>
<span class="normal"><a href="#__codelineno-0-331">331</a></span>
<span class="normal"><a href="#__codelineno-0-332">332</a></span>
<span class="normal"><a href="#__codelineno-0-333">333</a></span>
<span class="normal"><a href="#__codelineno-0-334">334</a></span>
<span class="normal"><a href="#__codelineno-0-335">335</a></span>
<span class="normal"><a href="#__codelineno-0-336">336</a></span>
<span class="normal"><a href="#__codelineno-0-337">337</a></span>
<span class="normal"><a href="#__codelineno-0-338">338</a></span>
<span class="normal"><a href="#__codelineno-0-339">339</a></span>
<span class="normal"><a href="#__codelineno-0-340">340</a></span>
<span class="normal"><a href="#__codelineno-0-341">341</a></span>
<span class="normal"><a href="#__codelineno-0-342">342</a></span>
<span class="normal"><a href="#__codelineno-0-343">343</a></span>
<span class="normal"><a href="#__codelineno-0-344">344</a></span>
<span class="normal"><a href="#__codelineno-0-345">345</a></span>
<span class="normal"><a href="#__codelineno-0-346">346</a></span>
<span class="normal"><a href="#__codelineno-0-347">347</a></span>
<span class="normal"><a href="#__codelineno-0-348">348</a></span>
<span class="normal"><a href="#__codelineno-0-349">349</a></span>
<span class="normal"><a href="#__codelineno-0-350">350</a></span>
<span class="normal"><a href="#__codelineno-0-351">351</a></span>
<span class="normal"><a href="#__codelineno-0-352">352</a></span>
<span class="normal"><a href="#__codelineno-0-353">353</a></span>
<span class="normal"><a href="#__codelineno-0-354">354</a></span>
<span class="normal"><a href="#__codelineno-0-355">355</a></span>
<span class="normal"><a href="#__codelineno-0-356">356</a></span>
<span class="normal"><a href="#__codelineno-0-357">357</a></span>
<span class="normal"><a href="#__codelineno-0-358">358</a></span>
<span class="normal"><a href="#__codelineno-0-359">359</a></span>
<span class="normal"><a href="#__codelineno-0-360">360</a></span>
<span class="normal"><a href="#__codelineno-0-361">361</a></span>
<span class="normal"><a href="#__codelineno-0-362">362</a></span>
<span class="normal"><a href="#__codelineno-0-363">363</a></span>
<span class="normal"><a href="#__codelineno-0-364">364</a></span>
<span class="normal"><a href="#__codelineno-0-365">365</a></span>
<span class="normal"><a href="#__codelineno-0-366">366</a></span>
<span class="normal"><a href="#__codelineno-0-367">367</a></span>
<span class="normal"><a href="#__codelineno-0-368">368</a></span>
<span class="normal"><a href="#__codelineno-0-369">369</a></span>
<span class="normal"><a href="#__codelineno-0-370">370</a></span>
<span class="normal"><a href="#__codelineno-0-371">371</a></span>
<span class="normal"><a href="#__codelineno-0-372">372</a></span>
<span class="normal"><a href="#__codelineno-0-373">373</a></span>
<span class="normal"><a href="#__codelineno-0-374">374</a></span>
<span class="normal"><a href="#__codelineno-0-375">375</a></span>
<span class="normal"><a href="#__codelineno-0-376">376</a></span>
<span class="normal"><a href="#__codelineno-0-377">377</a></span>
<span class="normal"><a href="#__codelineno-0-378">378</a></span>
<span class="normal"><a href="#__codelineno-0-379">379</a></span>
<span class="normal"><a href="#__codelineno-0-380">380</a></span>
<span class="normal"><a href="#__codelineno-0-381">381</a></span>
<span class="normal"><a href="#__codelineno-0-382">382</a></span>
<span class="normal"><a href="#__codelineno-0-383">383</a></span>
<span class="normal"><a href="#__codelineno-0-384">384</a></span>
<span class="normal"><a href="#__codelineno-0-385">385</a></span>
<span class="normal"><a href="#__codelineno-0-386">386</a></span>
<span class="normal"><a href="#__codelineno-0-387">387</a></span>
<span class="normal"><a href="#__codelineno-0-388">388</a></span>
<span class="normal"><a href="#__codelineno-0-389">389</a></span>
<span class="normal"><a href="#__codelineno-0-390">390</a></span>
<span class="normal"><a href="#__codelineno-0-391">391</a></span>
<span class="normal"><a href="#__codelineno-0-392">392</a></span>
<span class="normal"><a href="#__codelineno-0-393">393</a></span>
<span class="normal"><a href="#__codelineno-0-394">394</a></span>
<span class="normal"><a href="#__codelineno-0-395">395</a></span>
<span class="normal"><a href="#__codelineno-0-396">396</a></span>
<span class="normal"><a href="#__codelineno-0-397">397</a></span>
<span class="normal"><a href="#__codelineno-0-398">398</a></span>
<span class="normal"><a href="#__codelineno-0-399">399</a></span>
<span class="normal"><a href="#__codelineno-0-400">400</a></span>
<span class="normal"><a href="#__codelineno-0-401">401</a></span>
<span class="normal"><a href="#__codelineno-0-402">402</a></span>
<span class="normal"><a href="#__codelineno-0-403">403</a></span>
<span class="normal"><a href="#__codelineno-0-404">404</a></span>
<span class="normal"><a href="#__codelineno-0-405">405</a></span>
<span class="normal"><a href="#__codelineno-0-406">406</a></span>
<span class="normal"><a href="#__codelineno-0-407">407</a></span>
<span class="normal"><a href="#__codelineno-0-408">408</a></span>
<span class="normal"><a href="#__codelineno-0-409">409</a></span>
<span class="normal"><a href="#__codelineno-0-410">410</a></span>
<span class="normal"><a href="#__codelineno-0-411">411</a></span>
<span class="normal"><a href="#__codelineno-0-412">412</a></span>
<span class="normal"><a href="#__codelineno-0-413">413</a></span>
<span class="normal"><a href="#__codelineno-0-414">414</a></span>
<span class="normal"><a href="#__codelineno-0-415">415</a></span>
<span class="normal"><a href="#__codelineno-0-416">416</a></span>
<span class="normal"><a href="#__codelineno-0-417">417</a></span>
<span class="normal"><a href="#__codelineno-0-418">418</a></span>
<span class="normal"><a href="#__codelineno-0-419">419</a></span>
<span class="normal"><a href="#__codelineno-0-420">420</a></span>
<span class="normal"><a href="#__codelineno-0-421">421</a></span>
<span class="normal"><a href="#__codelineno-0-422">422</a></span>
<span class="normal"><a href="#__codelineno-0-423">423</a></span>
<span class="normal"><a href="#__codelineno-0-424">424</a></span>
<span class="normal"><a href="#__codelineno-0-425">425</a></span>
<span class="normal"><a href="#__codelineno-0-426">426</a></span>
<span class="normal"><a href="#__codelineno-0-427">427</a></span>
<span class="normal"><a href="#__codelineno-0-428">428</a></span>
<span class="normal"><a href="#__codelineno-0-429">429</a></span>
<span class="normal"><a href="#__codelineno-0-430">430</a></span>
<span class="normal"><a href="#__codelineno-0-431">431</a></span>
<span class="normal"><a href="#__codelineno-0-432">432</a></span>
<span class="normal"><a href="#__codelineno-0-433">433</a></span>
<span class="normal"><a href="#__codelineno-0-434">434</a></span>
<span class="normal"><a href="#__codelineno-0-435">435</a></span>
<span class="normal"><a href="#__codelineno-0-436">436</a></span>
<span class="normal"><a href="#__codelineno-0-437">437</a></span>
<span class="normal"><a href="#__codelineno-0-438">438</a></span>
<span class="normal"><a href="#__codelineno-0-439">439</a></span>
<span class="normal"><a href="#__codelineno-0-440">440</a></span>
<span class="normal"><a href="#__codelineno-0-441">441</a></span>
<span class="normal"><a href="#__codelineno-0-442">442</a></span>
<span class="normal"><a href="#__codelineno-0-443">443</a></span>
<span class="normal"><a href="#__codelineno-0-444">444</a></span>
<span class="normal"><a href="#__codelineno-0-445">445</a></span>
<span class="normal"><a href="#__codelineno-0-446">446</a></span>
<span class="normal"><a href="#__codelineno-0-447">447</a></span>
<span class="normal"><a href="#__codelineno-0-448">448</a></span>
<span class="normal"><a href="#__codelineno-0-449">449</a></span>
<span class="normal"><a href="#__codelineno-0-450">450</a></span>
<span class="normal"><a href="#__codelineno-0-451">451</a></span>
<span class="normal"><a href="#__codelineno-0-452">452</a></span>
<span class="normal"><a href="#__codelineno-0-453">453</a></span>
<span class="normal"><a href="#__codelineno-0-454">454</a></span>
<span class="normal"><a href="#__codelineno-0-455">455</a></span>
<span class="normal"><a href="#__codelineno-0-456">456</a></span>
<span class="normal"><a href="#__codelineno-0-457">457</a></span>
<span class="normal"><a href="#__codelineno-0-458">458</a></span>
<span class="normal"><a href="#__codelineno-0-459">459</a></span>
<span class="normal"><a href="#__codelineno-0-460">460</a></span>
<span class="normal"><a href="#__codelineno-0-461">461</a></span>
<span class="normal"><a href="#__codelineno-0-462">462</a></span>
<span class="normal"><a href="#__codelineno-0-463">463</a></span>
<span class="normal"><a href="#__codelineno-0-464">464</a></span>
<span class="normal"><a href="#__codelineno-0-465">465</a></span>
<span class="normal"><a href="#__codelineno-0-466">466</a></span>
<span class="normal"><a href="#__codelineno-0-467">467</a></span>
<span class="normal"><a href="#__codelineno-0-468">468</a></span>
<span class="normal"><a href="#__codelineno-0-469">469</a></span>
<span class="normal"><a href="#__codelineno-0-470">470</a></span>
<span class="normal"><a href="#__codelineno-0-471">471</a></span>
<span class="normal"><a href="#__codelineno-0-472">472</a></span>
<span class="normal"><a href="#__codelineno-0-473">473</a></span>
<span class="normal"><a href="#__codelineno-0-474">474</a></span>
<span class="normal"><a href="#__codelineno-0-475">475</a></span>
<span class="normal"><a href="#__codelineno-0-476">476</a></span>
<span class="normal"><a href="#__codelineno-0-477">477</a></span>
<span class="normal"><a href="#__codelineno-0-478">478</a></span>
<span class="normal"><a href="#__codelineno-0-479">479</a></span>
<span class="normal"><a href="#__codelineno-0-480">480</a></span>
<span class="normal"><a href="#__codelineno-0-481">481</a></span>
<span class="normal"><a href="#__codelineno-0-482">482</a></span>
<span class="normal"><a href="#__codelineno-0-483">483</a></span>
<span class="normal"><a href="#__codelineno-0-484">484</a></span>
<span class="normal"><a href="#__codelineno-0-485">485</a></span>
<span class="normal"><a href="#__codelineno-0-486">486</a></span>
<span class="normal"><a href="#__codelineno-0-487">487</a></span>
<span class="normal"><a href="#__codelineno-0-488">488</a></span>
<span class="normal"><a href="#__codelineno-0-489">489</a></span>
<span class="normal"><a href="#__codelineno-0-490">490</a></span>
<span class="normal"><a href="#__codelineno-0-491">491</a></span>
<span class="normal"><a href="#__codelineno-0-492">492</a></span>
<span class="normal"><a href="#__codelineno-0-493">493</a></span>
<span class="normal"><a href="#__codelineno-0-494">494</a></span>
<span class="normal"><a href="#__codelineno-0-495">495</a></span>
<span class="normal"><a href="#__codelineno-0-496">496</a></span>
<span class="normal"><a href="#__codelineno-0-497">497</a></span>
<span class="normal"><a href="#__codelineno-0-498">498</a></span>
<span class="normal"><a href="#__codelineno-0-499">499</a></span>
<span class="normal"><a href="#__codelineno-0-500">500</a></span>
<span class="normal"><a href="#__codelineno-0-501">501</a></span>
<span class="normal"><a href="#__codelineno-0-502">502</a></span>
<span class="normal"><a href="#__codelineno-0-503">503</a></span>
<span class="normal"><a href="#__codelineno-0-504">504</a></span>
<span class="normal"><a href="#__codelineno-0-505">505</a></span>
<span class="normal"><a href="#__codelineno-0-506">506</a></span>
<span class="normal"><a href="#__codelineno-0-507">507</a></span>
<span class="normal"><a href="#__codelineno-0-508">508</a></span>
<span class="normal"><a href="#__codelineno-0-509">509</a></span>
<span class="normal"><a href="#__codelineno-0-510">510</a></span>
<span class="normal"><a href="#__codelineno-0-511">511</a></span>
<span class="normal"><a href="#__codelineno-0-512">512</a></span>
<span class="normal"><a href="#__codelineno-0-513">513</a></span>
<span class="normal"><a href="#__codelineno-0-514">514</a></span>
<span class="normal"><a href="#__codelineno-0-515">515</a></span>
<span class="normal"><a href="#__codelineno-0-516">516</a></span>
<span class="normal"><a href="#__codelineno-0-517">517</a></span>
<span class="normal"><a href="#__codelineno-0-518">518</a></span>
<span class="normal"><a href="#__codelineno-0-519">519</a></span>
<span class="normal"><a href="#__codelineno-0-520">520</a></span>
<span class="normal"><a href="#__codelineno-0-521">521</a></span>
<span class="normal"><a href="#__codelineno-0-522">522</a></span>
<span class="normal"><a href="#__codelineno-0-523">523</a></span>
<span class="normal"><a href="#__codelineno-0-524">524</a></span>
<span class="normal"><a href="#__codelineno-0-525">525</a></span>
<span class="normal"><a href="#__codelineno-0-526">526</a></span>
<span class="normal"><a href="#__codelineno-0-527">527</a></span>
<span class="normal"><a href="#__codelineno-0-528">528</a></span>
<span class="normal"><a href="#__codelineno-0-529">529</a></span>
<span class="normal"><a href="#__codelineno-0-530">530</a></span>
<span class="normal"><a href="#__codelineno-0-531">531</a></span>
<span class="normal"><a href="#__codelineno-0-532">532</a></span>
<span class="normal"><a href="#__codelineno-0-533">533</a></span>
<span class="normal"><a href="#__codelineno-0-534">534</a></span>
<span class="normal"><a href="#__codelineno-0-535">535</a></span>
<span class="normal"><a href="#__codelineno-0-536">536</a></span>
<span class="normal"><a href="#__codelineno-0-537">537</a></span>
<span class="normal"><a href="#__codelineno-0-538">538</a></span>
<span class="normal"><a href="#__codelineno-0-539">539</a></span>
<span class="normal"><a href="#__codelineno-0-540">540</a></span>
<span class="normal"><a href="#__codelineno-0-541">541</a></span>
<span class="normal"><a href="#__codelineno-0-542">542</a></span>
<span class="normal"><a href="#__codelineno-0-543">543</a></span>
<span class="normal"><a href="#__codelineno-0-544">544</a></span>
<span class="normal"><a href="#__codelineno-0-545">545</a></span>
<span class="normal"><a href="#__codelineno-0-546">546</a></span>
<span class="normal"><a href="#__codelineno-0-547">547</a></span>
<span class="normal"><a href="#__codelineno-0-548">548</a></span>
<span class="normal"><a href="#__codelineno-0-549">549</a></span>
<span class="normal"><a href="#__codelineno-0-550">550</a></span>
<span class="normal"><a href="#__codelineno-0-551">551</a></span>
<span class="normal"><a href="#__codelineno-0-552">552</a></span>
<span class="normal"><a href="#__codelineno-0-553">553</a></span>
<span class="normal"><a href="#__codelineno-0-554">554</a></span>
<span class="normal"><a href="#__codelineno-0-555">555</a></span>
<span class="normal"><a href="#__codelineno-0-556">556</a></span>
<span class="normal"><a href="#__codelineno-0-557">557</a></span>
<span class="normal"><a href="#__codelineno-0-558">558</a></span>
<span class="normal"><a href="#__codelineno-0-559">559</a></span>
<span class="normal"><a href="#__codelineno-0-560">560</a></span>
<span class="normal"><a href="#__codelineno-0-561">561</a></span>
<span class="normal"><a href="#__codelineno-0-562">562</a></span>
<span class="normal"><a href="#__codelineno-0-563">563</a></span>
<span class="normal"><a href="#__codelineno-0-564">564</a></span>
<span class="normal"><a href="#__codelineno-0-565">565</a></span>
<span class="normal"><a href="#__codelineno-0-566">566</a></span>
<span class="normal"><a href="#__codelineno-0-567">567</a></span>
<span class="normal"><a href="#__codelineno-0-568">568</a></span>
<span class="normal"><a href="#__codelineno-0-569">569</a></span>
<span class="normal"><a href="#__codelineno-0-570">570</a></span>
<span class="normal"><a href="#__codelineno-0-571">571</a></span>
<span class="normal"><a href="#__codelineno-0-572">572</a></span>
<span class="normal"><a href="#__codelineno-0-573">573</a></span>
<span class="normal"><a href="#__codelineno-0-574">574</a></span>
<span class="normal"><a href="#__codelineno-0-575">575</a></span>
<span class="normal"><a href="#__codelineno-0-576">576</a></span>
<span class="normal"><a href="#__codelineno-0-577">577</a></span>
<span class="normal"><a href="#__codelineno-0-578">578</a></span>
<span class="normal"><a href="#__codelineno-0-579">579</a></span>
<span class="normal"><a href="#__codelineno-0-580">580</a></span>
<span class="normal"><a href="#__codelineno-0-581">581</a></span>
<span class="normal"><a href="#__codelineno-0-582">582</a></span>
<span class="normal"><a href="#__codelineno-0-583">583</a></span>
<span class="normal"><a href="#__codelineno-0-584">584</a></span>
<span class="normal"><a href="#__codelineno-0-585">585</a></span>
<span class="normal"><a href="#__codelineno-0-586">586</a></span>
<span class="normal"><a href="#__codelineno-0-587">587</a></span>
<span class="normal"><a href="#__codelineno-0-588">588</a></span>
<span class="normal"><a href="#__codelineno-0-589">589</a></span>
<span class="normal"><a href="#__codelineno-0-590">590</a></span>
<span class="normal"><a href="#__codelineno-0-591">591</a></span>
<span class="normal"><a href="#__codelineno-0-592">592</a></span>
<span class="normal"><a href="#__codelineno-0-593">593</a></span>
<span class="normal"><a href="#__codelineno-0-594">594</a></span>
<span class="normal"><a href="#__codelineno-0-595">595</a></span>
<span class="normal"><a href="#__codelineno-0-596">596</a></span>
<span class="normal"><a href="#__codelineno-0-597">597</a></span>
<span class="normal"><a href="#__codelineno-0-598">598</a></span>
<span class="normal"><a href="#__codelineno-0-599">599</a></span>
<span class="normal"><a href="#__codelineno-0-600">600</a></span>
<span class="normal"><a href="#__codelineno-0-601">601</a></span>
<span class="normal"><a href="#__codelineno-0-602">602</a></span>
<span class="normal"><a href="#__codelineno-0-603">603</a></span>
<span class="normal"><a href="#__codelineno-0-604">604</a></span>
<span class="normal"><a href="#__codelineno-0-605">605</a></span>
<span class="normal"><a href="#__codelineno-0-606">606</a></span>
<span class="normal"><a href="#__codelineno-0-607">607</a></span>
<span class="normal"><a href="#__codelineno-0-608">608</a></span>
<span class="normal"><a href="#__codelineno-0-609">609</a></span>
<span class="normal"><a href="#__codelineno-0-610">610</a></span>
<span class="normal"><a href="#__codelineno-0-611">611</a></span>
<span class="normal"><a href="#__codelineno-0-612">612</a></span>
<span class="normal"><a href="#__codelineno-0-613">613</a></span>
<span class="normal"><a href="#__codelineno-0-614">614</a></span>
<span class="normal"><a href="#__codelineno-0-615">615</a></span>
<span class="normal"><a href="#__codelineno-0-616">616</a></span>
<span class="normal"><a href="#__codelineno-0-617">617</a></span>
<span class="normal"><a href="#__codelineno-0-618">618</a></span>
<span class="normal"><a href="#__codelineno-0-619">619</a></span>
<span class="normal"><a href="#__codelineno-0-620">620</a></span>
<span class="normal"><a href="#__codelineno-0-621">621</a></span>
<span class="normal"><a href="#__codelineno-0-622">622</a></span>
<span class="normal"><a href="#__codelineno-0-623">623</a></span>
<span class="normal"><a href="#__codelineno-0-624">624</a></span>
<span class="normal"><a href="#__codelineno-0-625">625</a></span>
<span class="normal"><a href="#__codelineno-0-626">626</a></span>
<span class="normal"><a href="#__codelineno-0-627">627</a></span>
<span class="normal"><a href="#__codelineno-0-628">628</a></span>
<span class="normal"><a href="#__codelineno-0-629">629</a></span>
<span class="normal"><a href="#__codelineno-0-630">630</a></span>
<span class="normal"><a href="#__codelineno-0-631">631</a></span>
<span class="normal"><a href="#__codelineno-0-632">632</a></span>
<span class="normal"><a href="#__codelineno-0-633">633</a></span>
<span class="normal"><a href="#__codelineno-0-634">634</a></span>
<span class="normal"><a href="#__codelineno-0-635">635</a></span>
<span class="normal"><a href="#__codelineno-0-636">636</a></span>
<span class="normal"><a href="#__codelineno-0-637">637</a></span>
<span class="normal"><a href="#__codelineno-0-638">638</a></span>
<span class="normal"><a href="#__codelineno-0-639">639</a></span>
<span class="normal"><a href="#__codelineno-0-640">640</a></span>
<span class="normal"><a href="#__codelineno-0-641">641</a></span>
<span class="normal"><a href="#__codelineno-0-642">642</a></span>
<span class="normal"><a href="#__codelineno-0-643">643</a></span>
<span class="normal"><a href="#__codelineno-0-644">644</a></span>
<span class="normal"><a href="#__codelineno-0-645">645</a></span>
<span class="normal"><a href="#__codelineno-0-646">646</a></span>
<span class="normal"><a href="#__codelineno-0-647">647</a></span>
<span class="normal"><a href="#__codelineno-0-648">648</a></span>
<span class="normal"><a href="#__codelineno-0-649">649</a></span>
<span class="normal"><a href="#__codelineno-0-650">650</a></span>
<span class="normal"><a href="#__codelineno-0-651">651</a></span>
<span class="normal"><a href="#__codelineno-0-652">652</a></span>
<span class="normal"><a href="#__codelineno-0-653">653</a></span>
<span class="normal"><a href="#__codelineno-0-654">654</a></span>
<span class="normal"><a href="#__codelineno-0-655">655</a></span>
<span class="normal"><a href="#__codelineno-0-656">656</a></span>
<span class="normal"><a href="#__codelineno-0-657">657</a></span>
<span class="normal"><a href="#__codelineno-0-658">658</a></span>
<span class="normal"><a href="#__codelineno-0-659">659</a></span>
<span class="normal"><a href="#__codelineno-0-660">660</a></span>
<span class="normal"><a href="#__codelineno-0-661">661</a></span>
<span class="normal"><a href="#__codelineno-0-662">662</a></span>
<span class="normal"><a href="#__codelineno-0-663">663</a></span>
<span class="normal"><a href="#__codelineno-0-664">664</a></span>
<span class="normal"><a href="#__codelineno-0-665">665</a></span>
<span class="normal"><a href="#__codelineno-0-666">666</a></span>
<span class="normal"><a href="#__codelineno-0-667">667</a></span>
<span class="normal"><a href="#__codelineno-0-668">668</a></span>
<span class="normal"><a href="#__codelineno-0-669">669</a></span>
<span class="normal"><a href="#__codelineno-0-670">670</a></span>
<span class="normal"><a href="#__codelineno-0-671">671</a></span>
<span class="normal"><a href="#__codelineno-0-672">672</a></span>
<span class="normal"><a href="#__codelineno-0-673">673</a></span>
<span class="normal"><a href="#__codelineno-0-674">674</a></span>
<span class="normal"><a href="#__codelineno-0-675">675</a></span>
<span class="normal"><a href="#__codelineno-0-676">676</a></span>
<span class="normal"><a href="#__codelineno-0-677">677</a></span>
<span class="normal"><a href="#__codelineno-0-678">678</a></span>
<span class="normal"><a href="#__codelineno-0-679">679</a></span>
<span class="normal"><a href="#__codelineno-0-680">680</a></span>
<span class="normal"><a href="#__codelineno-0-681">681</a></span>
<span class="normal"><a href="#__codelineno-0-682">682</a></span>
<span class="normal"><a href="#__codelineno-0-683">683</a></span>
<span class="normal"><a href="#__codelineno-0-684">684</a></span>
<span class="normal"><a href="#__codelineno-0-685">685</a></span>
<span class="normal"><a href="#__codelineno-0-686">686</a></span>
<span class="normal"><a href="#__codelineno-0-687">687</a></span>
<span class="normal"><a href="#__codelineno-0-688">688</a></span>
<span class="normal"><a href="#__codelineno-0-689">689</a></span>
<span class="normal"><a href="#__codelineno-0-690">690</a></span>
<span class="normal"><a href="#__codelineno-0-691">691</a></span>
<span class="normal"><a href="#__codelineno-0-692">692</a></span>
<span class="normal"><a href="#__codelineno-0-693">693</a></span>
<span class="normal"><a href="#__codelineno-0-694">694</a></span>
<span class="normal"><a href="#__codelineno-0-695">695</a></span>
<span class="normal"><a href="#__codelineno-0-696">696</a></span>
<span class="normal"><a href="#__codelineno-0-697">697</a></span>
<span class="normal"><a href="#__codelineno-0-698">698</a></span>
<span class="normal"><a href="#__codelineno-0-699">699</a></span>
<span class="normal"><a href="#__codelineno-0-700">700</a></span>
<span class="normal"><a href="#__codelineno-0-701">701</a></span>
<span class="normal"><a href="#__codelineno-0-702">702</a></span>
<span class="normal"><a href="#__codelineno-0-703">703</a></span>
<span class="normal"><a href="#__codelineno-0-704">704</a></span>
<span class="normal"><a href="#__codelineno-0-705">705</a></span>
<span class="normal"><a href="#__codelineno-0-706">706</a></span>
<span class="normal"><a href="#__codelineno-0-707">707</a></span>
<span class="normal"><a href="#__codelineno-0-708">708</a></span>
<span class="normal"><a href="#__codelineno-0-709">709</a></span>
<span class="normal"><a href="#__codelineno-0-710">710</a></span>
<span class="normal"><a href="#__codelineno-0-711">711</a></span>
<span class="normal"><a href="#__codelineno-0-712">712</a></span>
<span class="normal"><a href="#__codelineno-0-713">713</a></span>
<span class="normal"><a href="#__codelineno-0-714">714</a></span>
<span class="normal"><a href="#__codelineno-0-715">715</a></span>
<span class="normal"><a href="#__codelineno-0-716">716</a></span>
<span class="normal"><a href="#__codelineno-0-717">717</a></span>
<span class="normal"><a href="#__codelineno-0-718">718</a></span>
<span class="normal"><a href="#__codelineno-0-719">719</a></span>
<span class="normal"><a href="#__codelineno-0-720">720</a></span>
<span class="normal"><a href="#__codelineno-0-721">721</a></span>
<span class="normal"><a href="#__codelineno-0-722">722</a></span>
<span class="normal"><a href="#__codelineno-0-723">723</a></span>
<span class="normal"><a href="#__codelineno-0-724">724</a></span>
<span class="normal"><a href="#__codelineno-0-725">725</a></span>
<span class="normal"><a href="#__codelineno-0-726">726</a></span>
<span class="normal"><a href="#__codelineno-0-727">727</a></span>
<span class="normal"><a href="#__codelineno-0-728">728</a></span>
<span class="normal"><a href="#__codelineno-0-729">729</a></span>
<span class="normal"><a href="#__codelineno-0-730">730</a></span>
<span class="normal"><a href="#__codelineno-0-731">731</a></span>
<span class="normal"><a href="#__codelineno-0-732">732</a></span>
<span class="normal"><a href="#__codelineno-0-733">733</a></span>
<span class="normal"><a href="#__codelineno-0-734">734</a></span>
<span class="normal"><a href="#__codelineno-0-735">735</a></span>
<span class="normal"><a href="#__codelineno-0-736">736</a></span>
<span class="normal"><a href="#__codelineno-0-737">737</a></span>
<span class="normal"><a href="#__codelineno-0-738">738</a></span>
<span class="normal"><a href="#__codelineno-0-739">739</a></span>
<span class="normal"><a href="#__codelineno-0-740">740</a></span>
<span class="normal"><a href="#__codelineno-0-741">741</a></span>
<span class="normal"><a href="#__codelineno-0-742">742</a></span>
<span class="normal"><a href="#__codelineno-0-743">743</a></span>
<span class="normal"><a href="#__codelineno-0-744">744</a></span>
<span class="normal"><a href="#__codelineno-0-745">745</a></span>
<span class="normal"><a href="#__codelineno-0-746">746</a></span>
<span class="normal"><a href="#__codelineno-0-747">747</a></span>
<span class="normal"><a href="#__codelineno-0-748">748</a></span>
<span class="normal"><a href="#__codelineno-0-749">749</a></span>
<span class="normal"><a href="#__codelineno-0-750">750</a></span>
<span class="normal"><a href="#__codelineno-0-751">751</a></span>
<span class="normal"><a href="#__codelineno-0-752">752</a></span>
<span class="normal"><a href="#__codelineno-0-753">753</a></span>
<span class="normal"><a href="#__codelineno-0-754">754</a></span>
<span class="normal"><a href="#__codelineno-0-755">755</a></span>
<span class="normal"><a href="#__codelineno-0-756">756</a></span>
<span class="normal"><a href="#__codelineno-0-757">757</a></span>
<span class="normal"><a href="#__codelineno-0-758">758</a></span>
<span class="normal"><a href="#__codelineno-0-759">759</a></span>
<span class="normal"><a href="#__codelineno-0-760">760</a></span>
<span class="normal"><a href="#__codelineno-0-761">761</a></span>
<span class="normal"><a href="#__codelineno-0-762">762</a></span>
<span class="normal"><a href="#__codelineno-0-763">763</a></span>
<span class="normal"><a href="#__codelineno-0-764">764</a></span>
<span class="normal"><a href="#__codelineno-0-765">765</a></span>
<span class="normal"><a href="#__codelineno-0-766">766</a></span>
<span class="normal"><a href="#__codelineno-0-767">767</a></span>
<span class="normal"><a href="#__codelineno-0-768">768</a></span>
<span class="normal"><a href="#__codelineno-0-769">769</a></span>
<span class="normal"><a href="#__codelineno-0-770">770</a></span>
<span class="normal"><a href="#__codelineno-0-771">771</a></span>
<span class="normal"><a href="#__codelineno-0-772">772</a></span>
<span class="normal"><a href="#__codelineno-0-773">773</a></span>
<span class="normal"><a href="#__codelineno-0-774">774</a></span>
<span class="normal"><a href="#__codelineno-0-775">775</a></span>
<span class="normal"><a href="#__codelineno-0-776">776</a></span>
<span class="normal"><a href="#__codelineno-0-777">777</a></span>
<span class="normal"><a href="#__codelineno-0-778">778</a></span>
<span class="normal"><a href="#__codelineno-0-779">779</a></span>
<span class="normal"><a href="#__codelineno-0-780">780</a></span>
<span class="normal"><a href="#__codelineno-0-781">781</a></span>
<span class="normal"><a href="#__codelineno-0-782">782</a></span>
<span class="normal"><a href="#__codelineno-0-783">783</a></span>
<span class="normal"><a href="#__codelineno-0-784">784</a></span>
<span class="normal"><a href="#__codelineno-0-785">785</a></span>
<span class="normal"><a href="#__codelineno-0-786">786</a></span>
<span class="normal"><a href="#__codelineno-0-787">787</a></span>
<span class="normal"><a href="#__codelineno-0-788">788</a></span>
<span class="normal"><a href="#__codelineno-0-789">789</a></span>
<span class="normal"><a href="#__codelineno-0-790">790</a></span>
<span class="normal"><a href="#__codelineno-0-791">791</a></span>
<span class="normal"><a href="#__codelineno-0-792">792</a></span>
<span class="normal"><a href="#__codelineno-0-793">793</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-266" name="__codelineno-0-266"></a><span class="k">class</span><span class="w"> </span><span class="nc">Verifier</span><span class="p">:</span>
<a id="__codelineno-0-267" name="__codelineno-0-267"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-268" name="__codelineno-0-268"></a><span class="sd">    Main verification engine using Z3 SMT solver.</span>
<a id="__codelineno-0-269" name="__codelineno-0-269"></a>
<a id="__codelineno-0-270" name="__codelineno-0-270"></a><span class="sd">    The verifier encodes distributed system architectures and temporal</span>
<a id="__codelineno-0-271" name="__codelineno-0-271"></a><span class="sd">    properties as SMT constraints and uses Z3 to prove or disprove them.</span>
<a id="__codelineno-0-272" name="__codelineno-0-272"></a><span class="sd">    Supports caching of results and bounded model checking for temporal</span>
<a id="__codelineno-0-273" name="__codelineno-0-273"></a><span class="sd">    properties.</span>
<a id="__codelineno-0-274" name="__codelineno-0-274"></a>
<a id="__codelineno-0-275" name="__codelineno-0-275"></a><span class="sd">    Per TD Commons disclosure, verification is the foundation of UPIR,</span>
<a id="__codelineno-0-276" name="__codelineno-0-276"></a><span class="sd">    enabling formal guarantees about system behavior.</span>
<a id="__codelineno-0-277" name="__codelineno-0-277"></a>
<a id="__codelineno-0-278" name="__codelineno-0-278"></a><span class="sd">    Attributes:</span>
<a id="__codelineno-0-279" name="__codelineno-0-279"></a><span class="sd">        timeout: Verification timeout in milliseconds (default: 30000 = 30s)</span>
<a id="__codelineno-0-280" name="__codelineno-0-280"></a><span class="sd">        enable_cache: Whether to cache verification results</span>
<a id="__codelineno-0-281" name="__codelineno-0-281"></a><span class="sd">        cache: Proof cache instance (if caching enabled)</span>
<a id="__codelineno-0-282" name="__codelineno-0-282"></a><span class="sd">        cache_size: Maximum cache size with LRU eviction (default: 1000)</span>
<a id="__codelineno-0-283" name="__codelineno-0-283"></a>
<a id="__codelineno-0-284" name="__codelineno-0-284"></a><span class="sd">    Example:</span>
<a id="__codelineno-0-285" name="__codelineno-0-285"></a><span class="sd">        &gt;&gt;&gt; verifier = Verifier(timeout=30000, enable_cache=True, cache_size=1000)</span>
<a id="__codelineno-0-286" name="__codelineno-0-286"></a><span class="sd">        &gt;&gt;&gt; result = verifier.verify_property(property, architecture)</span>
<a id="__codelineno-0-287" name="__codelineno-0-287"></a><span class="sd">        &gt;&gt;&gt; if result.verified:</span>
<a id="__codelineno-0-288" name="__codelineno-0-288"></a><span class="sd">        ...     print(&quot;Property proved!&quot;)</span>
<a id="__codelineno-0-289" name="__codelineno-0-289"></a><span class="sd">        ... else:</span>
<a id="__codelineno-0-290" name="__codelineno-0-290"></a><span class="sd">        ...     print(f&quot;Status: {result.status}&quot;)</span>
<a id="__codelineno-0-291" name="__codelineno-0-291"></a>
<a id="__codelineno-0-292" name="__codelineno-0-292"></a><span class="sd">    References:</span>
<a id="__codelineno-0-293" name="__codelineno-0-293"></a><span class="sd">    - TD Commons: https://www.tdcommons.org/dpubs_series/8852/</span>
<a id="__codelineno-0-294" name="__codelineno-0-294"></a><span class="sd">    - Z3: https://z3prover.github.io/api/html/namespacez3py.html</span>
<a id="__codelineno-0-295" name="__codelineno-0-295"></a><span class="sd">    - Bounded model checking: Clarke et al. (1999)</span>
<a id="__codelineno-0-296" name="__codelineno-0-296"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-297" name="__codelineno-0-297"></a>
<a id="__codelineno-0-298" name="__codelineno-0-298"></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
<a id="__codelineno-0-299" name="__codelineno-0-299"></a>        <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-300" name="__codelineno-0-300"></a>        <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">30000</span><span class="p">,</span>
<a id="__codelineno-0-301" name="__codelineno-0-301"></a>        <span class="n">enable_cache</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-302" name="__codelineno-0-302"></a>        <span class="n">cache_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1000</span>
<a id="__codelineno-0-303" name="__codelineno-0-303"></a>    <span class="p">):</span>
<a id="__codelineno-0-304" name="__codelineno-0-304"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-305" name="__codelineno-0-305"></a><span class="sd">        Initialize verifier with timeout and caching options.</span>
<a id="__codelineno-0-306" name="__codelineno-0-306"></a>
<a id="__codelineno-0-307" name="__codelineno-0-307"></a><span class="sd">        Args:</span>
<a id="__codelineno-0-308" name="__codelineno-0-308"></a><span class="sd">            timeout: Timeout in milliseconds (default: 30000 = 30 seconds)</span>
<a id="__codelineno-0-309" name="__codelineno-0-309"></a><span class="sd">            enable_cache: Enable result caching (default: True)</span>
<a id="__codelineno-0-310" name="__codelineno-0-310"></a><span class="sd">            cache_size: Maximum cache entries with LRU eviction (default: 1000)</span>
<a id="__codelineno-0-311" name="__codelineno-0-311"></a>
<a id="__codelineno-0-312" name="__codelineno-0-312"></a><span class="sd">        Raises:</span>
<a id="__codelineno-0-313" name="__codelineno-0-313"></a><span class="sd">            RuntimeError: If Z3 is not available</span>
<a id="__codelineno-0-314" name="__codelineno-0-314"></a>
<a id="__codelineno-0-315" name="__codelineno-0-315"></a><span class="sd">        Example:</span>
<a id="__codelineno-0-316" name="__codelineno-0-316"></a><span class="sd">            &gt;&gt;&gt; verifier = Verifier(timeout=60000, enable_cache=True, cache_size=500)</span>
<a id="__codelineno-0-317" name="__codelineno-0-317"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-318" name="__codelineno-0-318"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">is_z3_available</span><span class="p">():</span>
<a id="__codelineno-0-319" name="__codelineno-0-319"></a>            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
<a id="__codelineno-0-320" name="__codelineno-0-320"></a>                <span class="s2">&quot;Z3 solver is not available. &quot;</span>
<a id="__codelineno-0-321" name="__codelineno-0-321"></a>                <span class="s2">&quot;Install with: pip install z3-solver&quot;</span>
<a id="__codelineno-0-322" name="__codelineno-0-322"></a>            <span class="p">)</span>
<a id="__codelineno-0-323" name="__codelineno-0-323"></a>
<a id="__codelineno-0-324" name="__codelineno-0-324"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">timeout</span> <span class="o">=</span> <span class="n">timeout</span>
<a id="__codelineno-0-325" name="__codelineno-0-325"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">enable_cache</span> <span class="o">=</span> <span class="n">enable_cache</span>
<a id="__codelineno-0-326" name="__codelineno-0-326"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">cache</span> <span class="o">=</span> <span class="n">ProofCache</span><span class="p">(</span><span class="n">max_size</span><span class="o">=</span><span class="n">cache_size</span><span class="p">)</span> <span class="k">if</span> <span class="n">enable_cache</span> <span class="k">else</span> <span class="kc">None</span>
<a id="__codelineno-0-327" name="__codelineno-0-327"></a>
<a id="__codelineno-0-328" name="__codelineno-0-328"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">verify_property</span><span class="p">(</span>
<a id="__codelineno-0-329" name="__codelineno-0-329"></a>        <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-330" name="__codelineno-0-330"></a>        <span class="nb">property</span><span class="p">:</span> <span class="n">TemporalProperty</span><span class="p">,</span>
<a id="__codelineno-0-331" name="__codelineno-0-331"></a>        <span class="n">architecture</span><span class="p">:</span> <span class="n">Architecture</span><span class="p">,</span>
<a id="__codelineno-0-332" name="__codelineno-0-332"></a>        <span class="n">assumptions</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-333" name="__codelineno-0-333"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VerificationResult</span><span class="p">:</span>
<a id="__codelineno-0-334" name="__codelineno-0-334"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-335" name="__codelineno-0-335"></a><span class="sd">        Verify a single temporal property against an architecture.</span>
<a id="__codelineno-0-336" name="__codelineno-0-336"></a>
<a id="__codelineno-0-337" name="__codelineno-0-337"></a><span class="sd">        This is the core verification method. It:</span>
<a id="__codelineno-0-338" name="__codelineno-0-338"></a><span class="sd">        1. Checks cache if enabled</span>
<a id="__codelineno-0-339" name="__codelineno-0-339"></a><span class="sd">        2. Encodes architecture as SMT constraints</span>
<a id="__codelineno-0-340" name="__codelineno-0-340"></a><span class="sd">        3. Encodes property as SMT formula</span>
<a id="__codelineno-0-341" name="__codelineno-0-341"></a><span class="sd">        4. Invokes Z3 solver with timeout</span>
<a id="__codelineno-0-342" name="__codelineno-0-342"></a><span class="sd">        5. Extracts result, counterexample, or proof certificate</span>
<a id="__codelineno-0-343" name="__codelineno-0-343"></a><span class="sd">        6. Caches result if enabled</span>
<a id="__codelineno-0-344" name="__codelineno-0-344"></a>
<a id="__codelineno-0-345" name="__codelineno-0-345"></a><span class="sd">        Args:</span>
<a id="__codelineno-0-346" name="__codelineno-0-346"></a><span class="sd">            property: Temporal property to verify</span>
<a id="__codelineno-0-347" name="__codelineno-0-347"></a><span class="sd">            architecture: System architecture to verify against</span>
<a id="__codelineno-0-348" name="__codelineno-0-348"></a><span class="sd">            assumptions: Optional list of assumptions (e.g., &quot;network_reliable&quot;)</span>
<a id="__codelineno-0-349" name="__codelineno-0-349"></a>
<a id="__codelineno-0-350" name="__codelineno-0-350"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-351" name="__codelineno-0-351"></a><span class="sd">            VerificationResult with status, certificate, counterexample, timing</span>
<a id="__codelineno-0-352" name="__codelineno-0-352"></a>
<a id="__codelineno-0-353" name="__codelineno-0-353"></a><span class="sd">        Example:</span>
<a id="__codelineno-0-354" name="__codelineno-0-354"></a><span class="sd">            &gt;&gt;&gt; prop = TemporalProperty(</span>
<a id="__codelineno-0-355" name="__codelineno-0-355"></a><span class="sd">            ...     operator=TemporalOperator.ALWAYS,</span>
<a id="__codelineno-0-356" name="__codelineno-0-356"></a><span class="sd">            ...     predicate=&quot;data_consistent&quot;</span>
<a id="__codelineno-0-357" name="__codelineno-0-357"></a><span class="sd">            ... )</span>
<a id="__codelineno-0-358" name="__codelineno-0-358"></a><span class="sd">            &gt;&gt;&gt; result = verifier.verify_property(prop, architecture)</span>
<a id="__codelineno-0-359" name="__codelineno-0-359"></a><span class="sd">            &gt;&gt;&gt; print(f&quot;Verified: {result.verified}&quot;)</span>
<a id="__codelineno-0-360" name="__codelineno-0-360"></a>
<a id="__codelineno-0-361" name="__codelineno-0-361"></a><span class="sd">        References:</span>
<a id="__codelineno-0-362" name="__codelineno-0-362"></a><span class="sd">        - TD Commons: Property verification algorithm</span>
<a id="__codelineno-0-363" name="__codelineno-0-363"></a><span class="sd">        - Z3: SMT solving and model extraction</span>
<a id="__codelineno-0-364" name="__codelineno-0-364"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-365" name="__codelineno-0-365"></a>        <span class="n">assumptions</span> <span class="o">=</span> <span class="n">assumptions</span> <span class="ow">or</span> <span class="p">[]</span>
<a id="__codelineno-0-366" name="__codelineno-0-366"></a>
<a id="__codelineno-0-367" name="__codelineno-0-367"></a>        <span class="c1"># Check cache first</span>
<a id="__codelineno-0-368" name="__codelineno-0-368"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">enable_cache</span><span class="p">:</span>
<a id="__codelineno-0-369" name="__codelineno-0-369"></a>            <span class="n">cached</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">property</span><span class="p">,</span> <span class="n">architecture</span><span class="p">)</span>
<a id="__codelineno-0-370" name="__codelineno-0-370"></a>            <span class="k">if</span> <span class="n">cached</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-371" name="__codelineno-0-371"></a>                <span class="k">return</span> <span class="n">cached</span>
<a id="__codelineno-0-372" name="__codelineno-0-372"></a>
<a id="__codelineno-0-373" name="__codelineno-0-373"></a>        <span class="c1"># Start timing</span>
<a id="__codelineno-0-374" name="__codelineno-0-374"></a>        <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<a id="__codelineno-0-375" name="__codelineno-0-375"></a>
<a id="__codelineno-0-376" name="__codelineno-0-376"></a>        <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-377" name="__codelineno-0-377"></a>            <span class="c1"># Create Z3 solver</span>
<a id="__codelineno-0-378" name="__codelineno-0-378"></a>            <span class="n">solver</span> <span class="o">=</span> <span class="n">z3</span><span class="o">.</span><span class="n">Solver</span><span class="p">()</span>
<a id="__codelineno-0-379" name="__codelineno-0-379"></a>            <span class="n">solver</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;timeout&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">timeout</span><span class="p">)</span>
<a id="__codelineno-0-380" name="__codelineno-0-380"></a>
<a id="__codelineno-0-381" name="__codelineno-0-381"></a>            <span class="c1"># Encode architecture as SMT constraints</span>
<a id="__codelineno-0-382" name="__codelineno-0-382"></a>            <span class="n">arch_constraints</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_encode_architecture</span><span class="p">(</span><span class="n">architecture</span><span class="p">)</span>
<a id="__codelineno-0-383" name="__codelineno-0-383"></a>            <span class="k">for</span> <span class="n">constraint</span> <span class="ow">in</span> <span class="n">arch_constraints</span><span class="p">:</span>
<a id="__codelineno-0-384" name="__codelineno-0-384"></a>                <span class="n">solver</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">constraint</span><span class="p">)</span>
<a id="__codelineno-0-385" name="__codelineno-0-385"></a>
<a id="__codelineno-0-386" name="__codelineno-0-386"></a>            <span class="c1"># Encode property as SMT formula</span>
<a id="__codelineno-0-387" name="__codelineno-0-387"></a>            <span class="c1"># For ALWAYS/EVENTUALLY, we use bounded model checking</span>
<a id="__codelineno-0-388" name="__codelineno-0-388"></a>            <span class="n">prop_constraint</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_encode_property</span><span class="p">(</span><span class="nb">property</span><span class="p">,</span> <span class="n">architecture</span><span class="p">)</span>
<a id="__codelineno-0-389" name="__codelineno-0-389"></a>            <span class="n">solver</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">prop_constraint</span><span class="p">)</span>
<a id="__codelineno-0-390" name="__codelineno-0-390"></a>
<a id="__codelineno-0-391" name="__codelineno-0-391"></a>            <span class="c1"># Check satisfiability</span>
<a id="__codelineno-0-392" name="__codelineno-0-392"></a>            <span class="n">check_result</span> <span class="o">=</span> <span class="n">solver</span><span class="o">.</span><span class="n">check</span><span class="p">()</span>
<a id="__codelineno-0-393" name="__codelineno-0-393"></a>
<a id="__codelineno-0-394" name="__codelineno-0-394"></a>            <span class="c1"># Compute execution time</span>
<a id="__codelineno-0-395" name="__codelineno-0-395"></a>            <span class="n">execution_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span>
<a id="__codelineno-0-396" name="__codelineno-0-396"></a>
<a id="__codelineno-0-397" name="__codelineno-0-397"></a>            <span class="c1"># Process result</span>
<a id="__codelineno-0-398" name="__codelineno-0-398"></a>            <span class="k">if</span> <span class="n">check_result</span> <span class="o">==</span> <span class="n">z3</span><span class="o">.</span><span class="n">sat</span><span class="p">:</span>
<a id="__codelineno-0-399" name="__codelineno-0-399"></a>                <span class="c1"># Property is satisfiable - this means it CAN hold</span>
<a id="__codelineno-0-400" name="__codelineno-0-400"></a>                <span class="c1"># For ALWAYS properties, satisfiability means PROVED</span>
<a id="__codelineno-0-401" name="__codelineno-0-401"></a>                <span class="c1"># For EVENTUALLY, it means we found a path</span>
<a id="__codelineno-0-402" name="__codelineno-0-402"></a>                <span class="n">status</span> <span class="o">=</span> <span class="n">VerificationStatus</span><span class="o">.</span><span class="n">PROVED</span>
<a id="__codelineno-0-403" name="__codelineno-0-403"></a>                <span class="n">counterexample</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-404" name="__codelineno-0-404"></a>
<a id="__codelineno-0-405" name="__codelineno-0-405"></a>                <span class="c1"># Generate proof certificate</span>
<a id="__codelineno-0-406" name="__codelineno-0-406"></a>                <span class="n">certificate</span> <span class="o">=</span> <span class="n">ProofCertificate</span><span class="p">(</span>
<a id="__codelineno-0-407" name="__codelineno-0-407"></a>                    <span class="n">property_hash</span><span class="o">=</span><span class="nb">property</span><span class="o">.</span><span class="n">hash</span><span class="p">(),</span>
<a id="__codelineno-0-408" name="__codelineno-0-408"></a>                    <span class="n">architecture_hash</span><span class="o">=</span><span class="n">architecture</span><span class="o">.</span><span class="n">hash</span><span class="p">(),</span>
<a id="__codelineno-0-409" name="__codelineno-0-409"></a>                    <span class="n">status</span><span class="o">=</span><span class="n">status</span><span class="p">,</span>
<a id="__codelineno-0-410" name="__codelineno-0-410"></a>                    <span class="n">proof_steps</span><span class="o">=</span><span class="p">[],</span>  <span class="c1"># Z3 doesn&#39;t expose proof steps easily</span>
<a id="__codelineno-0-411" name="__codelineno-0-411"></a>                    <span class="n">assumptions</span><span class="o">=</span><span class="n">assumptions</span><span class="p">,</span>
<a id="__codelineno-0-412" name="__codelineno-0-412"></a>                    <span class="n">solver_version</span><span class="o">=</span><span class="n">get_z3_version</span><span class="p">()</span>
<a id="__codelineno-0-413" name="__codelineno-0-413"></a>                <span class="p">)</span>
<a id="__codelineno-0-414" name="__codelineno-0-414"></a>
<a id="__codelineno-0-415" name="__codelineno-0-415"></a>            <span class="k">elif</span> <span class="n">check_result</span> <span class="o">==</span> <span class="n">z3</span><span class="o">.</span><span class="n">unsat</span><span class="p">:</span>
<a id="__codelineno-0-416" name="__codelineno-0-416"></a>                <span class="c1"># Property is unsatisfiable - cannot hold</span>
<a id="__codelineno-0-417" name="__codelineno-0-417"></a>                <span class="n">status</span> <span class="o">=</span> <span class="n">VerificationStatus</span><span class="o">.</span><span class="n">DISPROVED</span>
<a id="__codelineno-0-418" name="__codelineno-0-418"></a>                <span class="n">counterexample</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_extract_counterexample</span><span class="p">(</span><span class="n">solver</span><span class="p">)</span>
<a id="__codelineno-0-419" name="__codelineno-0-419"></a>                <span class="n">certificate</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-420" name="__codelineno-0-420"></a>
<a id="__codelineno-0-421" name="__codelineno-0-421"></a>            <span class="k">elif</span> <span class="n">check_result</span> <span class="o">==</span> <span class="n">z3</span><span class="o">.</span><span class="n">unknown</span><span class="p">:</span>
<a id="__codelineno-0-422" name="__codelineno-0-422"></a>                <span class="c1"># Solver couldn&#39;t determine (incomplete theory, heuristics failed)</span>
<a id="__codelineno-0-423" name="__codelineno-0-423"></a>                <span class="n">reason</span> <span class="o">=</span> <span class="n">solver</span><span class="o">.</span><span class="n">reason_unknown</span><span class="p">()</span>
<a id="__codelineno-0-424" name="__codelineno-0-424"></a>                <span class="k">if</span> <span class="s2">&quot;timeout&quot;</span> <span class="ow">in</span> <span class="n">reason</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
<a id="__codelineno-0-425" name="__codelineno-0-425"></a>                    <span class="n">status</span> <span class="o">=</span> <span class="n">VerificationStatus</span><span class="o">.</span><span class="n">TIMEOUT</span>
<a id="__codelineno-0-426" name="__codelineno-0-426"></a>                <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-427" name="__codelineno-0-427"></a>                    <span class="n">status</span> <span class="o">=</span> <span class="n">VerificationStatus</span><span class="o">.</span><span class="n">UNKNOWN</span>
<a id="__codelineno-0-428" name="__codelineno-0-428"></a>                <span class="n">counterexample</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-429" name="__codelineno-0-429"></a>                <span class="n">certificate</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-430" name="__codelineno-0-430"></a>
<a id="__codelineno-0-431" name="__codelineno-0-431"></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-432" name="__codelineno-0-432"></a>                <span class="c1"># Unexpected result</span>
<a id="__codelineno-0-433" name="__codelineno-0-433"></a>                <span class="n">status</span> <span class="o">=</span> <span class="n">VerificationStatus</span><span class="o">.</span><span class="n">ERROR</span>
<a id="__codelineno-0-434" name="__codelineno-0-434"></a>                <span class="n">counterexample</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-435" name="__codelineno-0-435"></a>                <span class="n">certificate</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-436" name="__codelineno-0-436"></a>
<a id="__codelineno-0-437" name="__codelineno-0-437"></a>            <span class="c1"># Create result</span>
<a id="__codelineno-0-438" name="__codelineno-0-438"></a>            <span class="n">result</span> <span class="o">=</span> <span class="n">VerificationResult</span><span class="p">(</span>
<a id="__codelineno-0-439" name="__codelineno-0-439"></a>                <span class="nb">property</span><span class="o">=</span><span class="nb">property</span><span class="p">,</span>
<a id="__codelineno-0-440" name="__codelineno-0-440"></a>                <span class="n">status</span><span class="o">=</span><span class="n">status</span><span class="p">,</span>
<a id="__codelineno-0-441" name="__codelineno-0-441"></a>                <span class="n">certificate</span><span class="o">=</span><span class="n">certificate</span><span class="p">,</span>
<a id="__codelineno-0-442" name="__codelineno-0-442"></a>                <span class="n">counterexample</span><span class="o">=</span><span class="n">counterexample</span><span class="p">,</span>
<a id="__codelineno-0-443" name="__codelineno-0-443"></a>                <span class="n">execution_time</span><span class="o">=</span><span class="n">execution_time</span><span class="p">,</span>
<a id="__codelineno-0-444" name="__codelineno-0-444"></a>                <span class="n">cached</span><span class="o">=</span><span class="kc">False</span>
<a id="__codelineno-0-445" name="__codelineno-0-445"></a>            <span class="p">)</span>
<a id="__codelineno-0-446" name="__codelineno-0-446"></a>
<a id="__codelineno-0-447" name="__codelineno-0-447"></a>            <span class="c1"># Cache result</span>
<a id="__codelineno-0-448" name="__codelineno-0-448"></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">enable_cache</span><span class="p">:</span>
<a id="__codelineno-0-449" name="__codelineno-0-449"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">cache</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="nb">property</span><span class="p">,</span> <span class="n">architecture</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
<a id="__codelineno-0-450" name="__codelineno-0-450"></a>
<a id="__codelineno-0-451" name="__codelineno-0-451"></a>            <span class="k">return</span> <span class="n">result</span>
<a id="__codelineno-0-452" name="__codelineno-0-452"></a>
<a id="__codelineno-0-453" name="__codelineno-0-453"></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<a id="__codelineno-0-454" name="__codelineno-0-454"></a>            <span class="c1"># Handle errors gracefully</span>
<a id="__codelineno-0-455" name="__codelineno-0-455"></a>            <span class="n">execution_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span>
<a id="__codelineno-0-456" name="__codelineno-0-456"></a>            <span class="k">return</span> <span class="n">VerificationResult</span><span class="p">(</span>
<a id="__codelineno-0-457" name="__codelineno-0-457"></a>                <span class="nb">property</span><span class="o">=</span><span class="nb">property</span><span class="p">,</span>
<a id="__codelineno-0-458" name="__codelineno-0-458"></a>                <span class="n">status</span><span class="o">=</span><span class="n">VerificationStatus</span><span class="o">.</span><span class="n">ERROR</span><span class="p">,</span>
<a id="__codelineno-0-459" name="__codelineno-0-459"></a>                <span class="n">certificate</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-460" name="__codelineno-0-460"></a>                <span class="n">counterexample</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)},</span>
<a id="__codelineno-0-461" name="__codelineno-0-461"></a>                <span class="n">execution_time</span><span class="o">=</span><span class="n">execution_time</span><span class="p">,</span>
<a id="__codelineno-0-462" name="__codelineno-0-462"></a>                <span class="n">cached</span><span class="o">=</span><span class="kc">False</span>
<a id="__codelineno-0-463" name="__codelineno-0-463"></a>            <span class="p">)</span>
<a id="__codelineno-0-464" name="__codelineno-0-464"></a>
<a id="__codelineno-0-465" name="__codelineno-0-465"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">verify_specification</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">upir</span><span class="p">:</span> <span class="n">UPIR</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">VerificationResult</span><span class="p">]:</span>
<a id="__codelineno-0-466" name="__codelineno-0-466"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-467" name="__codelineno-0-467"></a><span class="sd">        Verify all properties in a UPIR specification.</span>
<a id="__codelineno-0-468" name="__codelineno-0-468"></a>
<a id="__codelineno-0-469" name="__codelineno-0-469"></a><span class="sd">        Verifies both invariants and properties from the formal specification</span>
<a id="__codelineno-0-470" name="__codelineno-0-470"></a><span class="sd">        against the architecture. Returns results for all properties.</span>
<a id="__codelineno-0-471" name="__codelineno-0-471"></a>
<a id="__codelineno-0-472" name="__codelineno-0-472"></a><span class="sd">        Args:</span>
<a id="__codelineno-0-473" name="__codelineno-0-473"></a><span class="sd">            upir: UPIR instance with specification and architecture</span>
<a id="__codelineno-0-474" name="__codelineno-0-474"></a>
<a id="__codelineno-0-475" name="__codelineno-0-475"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-476" name="__codelineno-0-476"></a><span class="sd">            List of VerificationResult, one per property</span>
<a id="__codelineno-0-477" name="__codelineno-0-477"></a>
<a id="__codelineno-0-478" name="__codelineno-0-478"></a><span class="sd">        Raises:</span>
<a id="__codelineno-0-479" name="__codelineno-0-479"></a><span class="sd">            ValueError: If UPIR is missing specification or architecture</span>
<a id="__codelineno-0-480" name="__codelineno-0-480"></a>
<a id="__codelineno-0-481" name="__codelineno-0-481"></a><span class="sd">        Example:</span>
<a id="__codelineno-0-482" name="__codelineno-0-482"></a><span class="sd">            &gt;&gt;&gt; upir = UPIR(...)</span>
<a id="__codelineno-0-483" name="__codelineno-0-483"></a><span class="sd">            &gt;&gt;&gt; upir.specification = FormalSpecification(...)</span>
<a id="__codelineno-0-484" name="__codelineno-0-484"></a><span class="sd">            &gt;&gt;&gt; upir.architecture = Architecture(...)</span>
<a id="__codelineno-0-485" name="__codelineno-0-485"></a><span class="sd">            &gt;&gt;&gt; results = verifier.verify_specification(upir)</span>
<a id="__codelineno-0-486" name="__codelineno-0-486"></a><span class="sd">            &gt;&gt;&gt; verified_count = sum(1 for r in results if r.verified)</span>
<a id="__codelineno-0-487" name="__codelineno-0-487"></a><span class="sd">            &gt;&gt;&gt; print(f&quot;Verified {verified_count}/{len(results)} properties&quot;)</span>
<a id="__codelineno-0-488" name="__codelineno-0-488"></a>
<a id="__codelineno-0-489" name="__codelineno-0-489"></a><span class="sd">        References:</span>
<a id="__codelineno-0-490" name="__codelineno-0-490"></a><span class="sd">        - TD Commons: Specification verification workflow</span>
<a id="__codelineno-0-491" name="__codelineno-0-491"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-492" name="__codelineno-0-492"></a>        <span class="k">if</span> <span class="n">upir</span><span class="o">.</span><span class="n">specification</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-493" name="__codelineno-0-493"></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;UPIR must have a specification to verify&quot;</span><span class="p">)</span>
<a id="__codelineno-0-494" name="__codelineno-0-494"></a>        <span class="k">if</span> <span class="n">upir</span><span class="o">.</span><span class="n">architecture</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-495" name="__codelineno-0-495"></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;UPIR must have an architecture to verify&quot;</span><span class="p">)</span>
<a id="__codelineno-0-496" name="__codelineno-0-496"></a>
<a id="__codelineno-0-497" name="__codelineno-0-497"></a>        <span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-498" name="__codelineno-0-498"></a>
<a id="__codelineno-0-499" name="__codelineno-0-499"></a>        <span class="c1"># Verify invariants</span>
<a id="__codelineno-0-500" name="__codelineno-0-500"></a>        <span class="k">for</span> <span class="n">invariant</span> <span class="ow">in</span> <span class="n">upir</span><span class="o">.</span><span class="n">specification</span><span class="o">.</span><span class="n">invariants</span><span class="p">:</span>
<a id="__codelineno-0-501" name="__codelineno-0-501"></a>            <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">verify_property</span><span class="p">(</span>
<a id="__codelineno-0-502" name="__codelineno-0-502"></a>                <span class="nb">property</span><span class="o">=</span><span class="n">invariant</span><span class="p">,</span>
<a id="__codelineno-0-503" name="__codelineno-0-503"></a>                <span class="n">architecture</span><span class="o">=</span><span class="n">upir</span><span class="o">.</span><span class="n">architecture</span><span class="p">,</span>
<a id="__codelineno-0-504" name="__codelineno-0-504"></a>                <span class="n">assumptions</span><span class="o">=</span><span class="n">upir</span><span class="o">.</span><span class="n">specification</span><span class="o">.</span><span class="n">assumptions</span>
<a id="__codelineno-0-505" name="__codelineno-0-505"></a>            <span class="p">)</span>
<a id="__codelineno-0-506" name="__codelineno-0-506"></a>            <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<a id="__codelineno-0-507" name="__codelineno-0-507"></a>
<a id="__codelineno-0-508" name="__codelineno-0-508"></a>        <span class="c1"># Verify properties</span>
<a id="__codelineno-0-509" name="__codelineno-0-509"></a>        <span class="k">for</span> <span class="nb">property</span> <span class="ow">in</span> <span class="n">upir</span><span class="o">.</span><span class="n">specification</span><span class="o">.</span><span class="n">properties</span><span class="p">:</span>
<a id="__codelineno-0-510" name="__codelineno-0-510"></a>            <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">verify_property</span><span class="p">(</span>
<a id="__codelineno-0-511" name="__codelineno-0-511"></a>                <span class="nb">property</span><span class="o">=</span><span class="nb">property</span><span class="p">,</span>
<a id="__codelineno-0-512" name="__codelineno-0-512"></a>                <span class="n">architecture</span><span class="o">=</span><span class="n">upir</span><span class="o">.</span><span class="n">architecture</span><span class="p">,</span>
<a id="__codelineno-0-513" name="__codelineno-0-513"></a>                <span class="n">assumptions</span><span class="o">=</span><span class="n">upir</span><span class="o">.</span><span class="n">specification</span><span class="o">.</span><span class="n">assumptions</span>
<a id="__codelineno-0-514" name="__codelineno-0-514"></a>            <span class="p">)</span>
<a id="__codelineno-0-515" name="__codelineno-0-515"></a>            <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<a id="__codelineno-0-516" name="__codelineno-0-516"></a>
<a id="__codelineno-0-517" name="__codelineno-0-517"></a>        <span class="k">return</span> <span class="n">results</span>
<a id="__codelineno-0-518" name="__codelineno-0-518"></a>
<a id="__codelineno-0-519" name="__codelineno-0-519"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">verify_incremental</span><span class="p">(</span>
<a id="__codelineno-0-520" name="__codelineno-0-520"></a>        <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-521" name="__codelineno-0-521"></a>        <span class="n">upir</span><span class="p">:</span> <span class="n">UPIR</span><span class="p">,</span>
<a id="__codelineno-0-522" name="__codelineno-0-522"></a>        <span class="n">changed_properties</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
<a id="__codelineno-0-523" name="__codelineno-0-523"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">VerificationResult</span><span class="p">]:</span>
<a id="__codelineno-0-524" name="__codelineno-0-524"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-525" name="__codelineno-0-525"></a><span class="sd">        Incrementally verify only changed properties, using cache for rest.</span>
<a id="__codelineno-0-526" name="__codelineno-0-526"></a>
<a id="__codelineno-0-527" name="__codelineno-0-527"></a><span class="sd">        Per TD Commons disclosure, incremental verification is critical for</span>
<a id="__codelineno-0-528" name="__codelineno-0-528"></a><span class="sd">        performance when iterating on architectures. Only changed properties</span>
<a id="__codelineno-0-529" name="__codelineno-0-529"></a><span class="sd">        are re-verified; unchanged properties use cached results when available.</span>
<a id="__codelineno-0-530" name="__codelineno-0-530"></a>
<a id="__codelineno-0-531" name="__codelineno-0-531"></a><span class="sd">        This method:</span>
<a id="__codelineno-0-532" name="__codelineno-0-532"></a><span class="sd">        1. Invalidates cache if architecture changed (detects by hash)</span>
<a id="__codelineno-0-533" name="__codelineno-0-533"></a><span class="sd">        2. Re-verifies changed properties (forced verification)</span>
<a id="__codelineno-0-534" name="__codelineno-0-534"></a><span class="sd">        3. Uses cache for unchanged properties (may still miss if not cached)</span>
<a id="__codelineno-0-535" name="__codelineno-0-535"></a><span class="sd">        4. Logs cache statistics at INFO level</span>
<a id="__codelineno-0-536" name="__codelineno-0-536"></a>
<a id="__codelineno-0-537" name="__codelineno-0-537"></a><span class="sd">        Args:</span>
<a id="__codelineno-0-538" name="__codelineno-0-538"></a><span class="sd">            upir: UPIR instance with specification and architecture</span>
<a id="__codelineno-0-539" name="__codelineno-0-539"></a><span class="sd">            changed_properties: Set of predicate names that changed</span>
<a id="__codelineno-0-540" name="__codelineno-0-540"></a><span class="sd">                              (e.g., {&quot;data_consistent&quot;, &quot;backup_complete&quot;})</span>
<a id="__codelineno-0-541" name="__codelineno-0-541"></a>
<a id="__codelineno-0-542" name="__codelineno-0-542"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-543" name="__codelineno-0-543"></a><span class="sd">            List of VerificationResult for all properties (invariants + properties)</span>
<a id="__codelineno-0-544" name="__codelineno-0-544"></a>
<a id="__codelineno-0-545" name="__codelineno-0-545"></a><span class="sd">        Raises:</span>
<a id="__codelineno-0-546" name="__codelineno-0-546"></a><span class="sd">            ValueError: If UPIR is missing specification or architecture</span>
<a id="__codelineno-0-547" name="__codelineno-0-547"></a>
<a id="__codelineno-0-548" name="__codelineno-0-548"></a><span class="sd">        Example:</span>
<a id="__codelineno-0-549" name="__codelineno-0-549"></a><span class="sd">            &gt;&gt;&gt; # Initial verification (all cache misses)</span>
<a id="__codelineno-0-550" name="__codelineno-0-550"></a><span class="sd">            &gt;&gt;&gt; upir = UPIR(...)</span>
<a id="__codelineno-0-551" name="__codelineno-0-551"></a><span class="sd">            &gt;&gt;&gt; upir.specification = FormalSpecification(</span>
<a id="__codelineno-0-552" name="__codelineno-0-552"></a><span class="sd">            ...     properties=[</span>
<a id="__codelineno-0-553" name="__codelineno-0-553"></a><span class="sd">            ...         TemporalProperty(ALWAYS, &quot;data_consistent&quot;),</span>
<a id="__codelineno-0-554" name="__codelineno-0-554"></a><span class="sd">            ...         TemporalProperty(EVENTUALLY, &quot;backup_complete&quot;),</span>
<a id="__codelineno-0-555" name="__codelineno-0-555"></a><span class="sd">            ...         TemporalProperty(WITHIN, &quot;response_fast&quot;, time_bound=1.0)</span>
<a id="__codelineno-0-556" name="__codelineno-0-556"></a><span class="sd">            ...     ]</span>
<a id="__codelineno-0-557" name="__codelineno-0-557"></a><span class="sd">            ... )</span>
<a id="__codelineno-0-558" name="__codelineno-0-558"></a><span class="sd">            &gt;&gt;&gt; upir.architecture = Architecture(...)</span>
<a id="__codelineno-0-559" name="__codelineno-0-559"></a><span class="sd">            &gt;&gt;&gt; verifier = Verifier(enable_cache=True)</span>
<a id="__codelineno-0-560" name="__codelineno-0-560"></a><span class="sd">            &gt;&gt;&gt;</span>
<a id="__codelineno-0-561" name="__codelineno-0-561"></a><span class="sd">            &gt;&gt;&gt; # First verification - all misses</span>
<a id="__codelineno-0-562" name="__codelineno-0-562"></a><span class="sd">            &gt;&gt;&gt; results = verifier.verify_incremental(upir, set())</span>
<a id="__codelineno-0-563" name="__codelineno-0-563"></a><span class="sd">            &gt;&gt;&gt; # INFO: Cache statistics: 0 hits, 3 misses, hit rate: 0.0%</span>
<a id="__codelineno-0-564" name="__codelineno-0-564"></a><span class="sd">            &gt;&gt;&gt; assert verifier.cache.misses == 3</span>
<a id="__codelineno-0-565" name="__codelineno-0-565"></a><span class="sd">            &gt;&gt;&gt; assert verifier.cache.hits == 0</span>
<a id="__codelineno-0-566" name="__codelineno-0-566"></a><span class="sd">            &gt;&gt;&gt;</span>
<a id="__codelineno-0-567" name="__codelineno-0-567"></a><span class="sd">            &gt;&gt;&gt; # Second verification with one change - 2 hits, 1 miss</span>
<a id="__codelineno-0-568" name="__codelineno-0-568"></a><span class="sd">            &gt;&gt;&gt; results = verifier.verify_incremental(</span>
<a id="__codelineno-0-569" name="__codelineno-0-569"></a><span class="sd">            ...     upir,</span>
<a id="__codelineno-0-570" name="__codelineno-0-570"></a><span class="sd">            ...     changed_properties={&quot;backup_complete&quot;}</span>
<a id="__codelineno-0-571" name="__codelineno-0-571"></a><span class="sd">            ... )</span>
<a id="__codelineno-0-572" name="__codelineno-0-572"></a><span class="sd">            &gt;&gt;&gt; # INFO: Cache statistics: 2 hits, 4 misses, hit rate: 33.3%</span>
<a id="__codelineno-0-573" name="__codelineno-0-573"></a><span class="sd">            &gt;&gt;&gt; assert verifier.cache.hits == 2  # data_consistent, response_fast</span>
<a id="__codelineno-0-574" name="__codelineno-0-574"></a><span class="sd">            &gt;&gt;&gt; assert verifier.cache.misses == 4  # 3 initial + 1 for backup_complete</span>
<a id="__codelineno-0-575" name="__codelineno-0-575"></a><span class="sd">            &gt;&gt;&gt;</span>
<a id="__codelineno-0-576" name="__codelineno-0-576"></a><span class="sd">            &gt;&gt;&gt; # Third verification with no changes - 3 hits, 0 new misses</span>
<a id="__codelineno-0-577" name="__codelineno-0-577"></a><span class="sd">            &gt;&gt;&gt; results = verifier.verify_incremental(upir, set())</span>
<a id="__codelineno-0-578" name="__codelineno-0-578"></a><span class="sd">            &gt;&gt;&gt; # INFO: Cache statistics: 5 hits, 4 misses, hit rate: 55.6%</span>
<a id="__codelineno-0-579" name="__codelineno-0-579"></a><span class="sd">            &gt;&gt;&gt; assert verifier.cache.hit_rate() &gt; 50.0</span>
<a id="__codelineno-0-580" name="__codelineno-0-580"></a>
<a id="__codelineno-0-581" name="__codelineno-0-581"></a><span class="sd">        References:</span>
<a id="__codelineno-0-582" name="__codelineno-0-582"></a><span class="sd">        - TD Commons: Incremental verification section</span>
<a id="__codelineno-0-583" name="__codelineno-0-583"></a><span class="sd">        - Cache invalidation on architecture changes</span>
<a id="__codelineno-0-584" name="__codelineno-0-584"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-585" name="__codelineno-0-585"></a>        <span class="k">if</span> <span class="n">upir</span><span class="o">.</span><span class="n">specification</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-586" name="__codelineno-0-586"></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;UPIR must have a specification to verify&quot;</span><span class="p">)</span>
<a id="__codelineno-0-587" name="__codelineno-0-587"></a>        <span class="k">if</span> <span class="n">upir</span><span class="o">.</span><span class="n">architecture</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-588" name="__codelineno-0-588"></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;UPIR must have an architecture to verify&quot;</span><span class="p">)</span>
<a id="__codelineno-0-589" name="__codelineno-0-589"></a>
<a id="__codelineno-0-590" name="__codelineno-0-590"></a>        <span class="c1"># Track previous architecture hash to detect changes</span>
<a id="__codelineno-0-591" name="__codelineno-0-591"></a>        <span class="c1"># (In production, could store this in UPIR or verifier state)</span>
<a id="__codelineno-0-592" name="__codelineno-0-592"></a>        <span class="n">current_arch_hash</span> <span class="o">=</span> <span class="n">upir</span><span class="o">.</span><span class="n">architecture</span><span class="o">.</span><span class="n">hash</span><span class="p">()</span>
<a id="__codelineno-0-593" name="__codelineno-0-593"></a>
<a id="__codelineno-0-594" name="__codelineno-0-594"></a>        <span class="c1"># Invalidate cache entries for changed properties</span>
<a id="__codelineno-0-595" name="__codelineno-0-595"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">enable_cache</span> <span class="ow">and</span> <span class="n">changed_properties</span><span class="p">:</span>
<a id="__codelineno-0-596" name="__codelineno-0-596"></a>            <span class="c1"># Remove cache entries for changed properties</span>
<a id="__codelineno-0-597" name="__codelineno-0-597"></a>            <span class="c1"># We need to recompute cache keys for changed properties</span>
<a id="__codelineno-0-598" name="__codelineno-0-598"></a>            <span class="n">all_props</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">upir</span><span class="o">.</span><span class="n">specification</span><span class="o">.</span><span class="n">invariants</span><span class="p">)</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="n">upir</span><span class="o">.</span><span class="n">specification</span><span class="o">.</span><span class="n">properties</span><span class="p">)</span>
<a id="__codelineno-0-599" name="__codelineno-0-599"></a>            <span class="k">for</span> <span class="n">prop</span> <span class="ow">in</span> <span class="n">all_props</span><span class="p">:</span>
<a id="__codelineno-0-600" name="__codelineno-0-600"></a>                <span class="k">if</span> <span class="n">prop</span><span class="o">.</span><span class="n">predicate</span> <span class="ow">in</span> <span class="n">changed_properties</span><span class="p">:</span>
<a id="__codelineno-0-601" name="__codelineno-0-601"></a>                    <span class="n">cache_key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache</span><span class="o">.</span><span class="n">_compute_key</span><span class="p">(</span><span class="n">prop</span><span class="p">,</span> <span class="n">upir</span><span class="o">.</span><span class="n">architecture</span><span class="p">)</span>
<a id="__codelineno-0-602" name="__codelineno-0-602"></a>                    <span class="k">if</span> <span class="n">cache_key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache</span><span class="o">.</span><span class="n">cache</span><span class="p">:</span>
<a id="__codelineno-0-603" name="__codelineno-0-603"></a>                        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache</span><span class="o">.</span><span class="n">cache</span><span class="p">[</span><span class="n">cache_key</span><span class="p">]</span>
<a id="__codelineno-0-604" name="__codelineno-0-604"></a>
<a id="__codelineno-0-605" name="__codelineno-0-605"></a>        <span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-606" name="__codelineno-0-606"></a>
<a id="__codelineno-0-607" name="__codelineno-0-607"></a>        <span class="c1"># Verify invariants</span>
<a id="__codelineno-0-608" name="__codelineno-0-608"></a>        <span class="c1"># verify_property will check cache; changed properties were invalidated above</span>
<a id="__codelineno-0-609" name="__codelineno-0-609"></a>        <span class="k">for</span> <span class="n">invariant</span> <span class="ow">in</span> <span class="n">upir</span><span class="o">.</span><span class="n">specification</span><span class="o">.</span><span class="n">invariants</span><span class="p">:</span>
<a id="__codelineno-0-610" name="__codelineno-0-610"></a>            <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">verify_property</span><span class="p">(</span>
<a id="__codelineno-0-611" name="__codelineno-0-611"></a>                <span class="nb">property</span><span class="o">=</span><span class="n">invariant</span><span class="p">,</span>
<a id="__codelineno-0-612" name="__codelineno-0-612"></a>                <span class="n">architecture</span><span class="o">=</span><span class="n">upir</span><span class="o">.</span><span class="n">architecture</span><span class="p">,</span>
<a id="__codelineno-0-613" name="__codelineno-0-613"></a>                <span class="n">assumptions</span><span class="o">=</span><span class="n">upir</span><span class="o">.</span><span class="n">specification</span><span class="o">.</span><span class="n">assumptions</span>
<a id="__codelineno-0-614" name="__codelineno-0-614"></a>            <span class="p">)</span>
<a id="__codelineno-0-615" name="__codelineno-0-615"></a>            <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<a id="__codelineno-0-616" name="__codelineno-0-616"></a>
<a id="__codelineno-0-617" name="__codelineno-0-617"></a>        <span class="c1"># Verify properties</span>
<a id="__codelineno-0-618" name="__codelineno-0-618"></a>        <span class="k">for</span> <span class="nb">property</span> <span class="ow">in</span> <span class="n">upir</span><span class="o">.</span><span class="n">specification</span><span class="o">.</span><span class="n">properties</span><span class="p">:</span>
<a id="__codelineno-0-619" name="__codelineno-0-619"></a>            <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">verify_property</span><span class="p">(</span>
<a id="__codelineno-0-620" name="__codelineno-0-620"></a>                <span class="nb">property</span><span class="o">=</span><span class="nb">property</span><span class="p">,</span>
<a id="__codelineno-0-621" name="__codelineno-0-621"></a>                <span class="n">architecture</span><span class="o">=</span><span class="n">upir</span><span class="o">.</span><span class="n">architecture</span><span class="p">,</span>
<a id="__codelineno-0-622" name="__codelineno-0-622"></a>                <span class="n">assumptions</span><span class="o">=</span><span class="n">upir</span><span class="o">.</span><span class="n">specification</span><span class="o">.</span><span class="n">assumptions</span>
<a id="__codelineno-0-623" name="__codelineno-0-623"></a>            <span class="p">)</span>
<a id="__codelineno-0-624" name="__codelineno-0-624"></a>            <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<a id="__codelineno-0-625" name="__codelineno-0-625"></a>
<a id="__codelineno-0-626" name="__codelineno-0-626"></a>        <span class="c1"># Log cache statistics</span>
<a id="__codelineno-0-627" name="__codelineno-0-627"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">enable_cache</span><span class="p">:</span>
<a id="__codelineno-0-628" name="__codelineno-0-628"></a>            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
<a id="__codelineno-0-629" name="__codelineno-0-629"></a>                <span class="sa">f</span><span class="s2">&quot;Cache statistics: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">cache</span><span class="o">.</span><span class="n">hits</span><span class="si">}</span><span class="s2"> hits, &quot;</span>
<a id="__codelineno-0-630" name="__codelineno-0-630"></a>                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">cache</span><span class="o">.</span><span class="n">misses</span><span class="si">}</span><span class="s2"> misses, &quot;</span>
<a id="__codelineno-0-631" name="__codelineno-0-631"></a>                <span class="sa">f</span><span class="s2">&quot;hit rate: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">cache</span><span class="o">.</span><span class="n">hit_rate</span><span class="p">()</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">%&quot;</span>
<a id="__codelineno-0-632" name="__codelineno-0-632"></a>            <span class="p">)</span>
<a id="__codelineno-0-633" name="__codelineno-0-633"></a>
<a id="__codelineno-0-634" name="__codelineno-0-634"></a>        <span class="k">return</span> <span class="n">results</span>
<a id="__codelineno-0-635" name="__codelineno-0-635"></a>
<a id="__codelineno-0-636" name="__codelineno-0-636"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_encode_architecture</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">architecture</span><span class="p">:</span> <span class="n">Architecture</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
<a id="__codelineno-0-637" name="__codelineno-0-637"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-638" name="__codelineno-0-638"></a><span class="sd">        Encode architecture as SMT constraints.</span>
<a id="__codelineno-0-639" name="__codelineno-0-639"></a>
<a id="__codelineno-0-640" name="__codelineno-0-640"></a><span class="sd">        Converts architecture components, connections, and deployment</span>
<a id="__codelineno-0-641" name="__codelineno-0-641"></a><span class="sd">        into Z3 constraints. This is a simplified encoding - full</span>
<a id="__codelineno-0-642" name="__codelineno-0-642"></a><span class="sd">        implementation would need component-specific encodings.</span>
<a id="__codelineno-0-643" name="__codelineno-0-643"></a>
<a id="__codelineno-0-644" name="__codelineno-0-644"></a><span class="sd">        Args:</span>
<a id="__codelineno-0-645" name="__codelineno-0-645"></a><span class="sd">            architecture: Architecture to encode</span>
<a id="__codelineno-0-646" name="__codelineno-0-646"></a>
<a id="__codelineno-0-647" name="__codelineno-0-647"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-648" name="__codelineno-0-648"></a><span class="sd">            List of Z3 constraints</span>
<a id="__codelineno-0-649" name="__codelineno-0-649"></a>
<a id="__codelineno-0-650" name="__codelineno-0-650"></a><span class="sd">        Example:</span>
<a id="__codelineno-0-651" name="__codelineno-0-651"></a><span class="sd">            &gt;&gt;&gt; constraints = verifier._encode_architecture(arch)</span>
<a id="__codelineno-0-652" name="__codelineno-0-652"></a><span class="sd">            &gt;&gt;&gt; for c in constraints:</span>
<a id="__codelineno-0-653" name="__codelineno-0-653"></a><span class="sd">            ...     solver.add(c)</span>
<a id="__codelineno-0-654" name="__codelineno-0-654"></a>
<a id="__codelineno-0-655" name="__codelineno-0-655"></a><span class="sd">        References:</span>
<a id="__codelineno-0-656" name="__codelineno-0-656"></a><span class="sd">        - TD Commons: Architecture encoding for verification</span>
<a id="__codelineno-0-657" name="__codelineno-0-657"></a><span class="sd">        - Z3: Constraint construction</span>
<a id="__codelineno-0-658" name="__codelineno-0-658"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-659" name="__codelineno-0-659"></a>        <span class="n">constraints</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-660" name="__codelineno-0-660"></a>
<a id="__codelineno-0-661" name="__codelineno-0-661"></a>        <span class="c1"># For now, we create a simple encoding</span>
<a id="__codelineno-0-662" name="__codelineno-0-662"></a>        <span class="c1"># Full implementation would encode:</span>
<a id="__codelineno-0-663" name="__codelineno-0-663"></a>        <span class="c1"># - Component states (running, failed, etc.)</span>
<a id="__codelineno-0-664" name="__codelineno-0-664"></a>        <span class="c1"># - Network topology (connected, latency, etc.)</span>
<a id="__codelineno-0-665" name="__codelineno-0-665"></a>        <span class="c1"># - Data consistency (replicated, partitioned, etc.)</span>
<a id="__codelineno-0-666" name="__codelineno-0-666"></a>
<a id="__codelineno-0-667" name="__codelineno-0-667"></a>        <span class="c1"># Create boolean variables for component health</span>
<a id="__codelineno-0-668" name="__codelineno-0-668"></a>        <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="n">architecture</span><span class="o">.</span><span class="n">components</span><span class="p">:</span>
<a id="__codelineno-0-669" name="__codelineno-0-669"></a>            <span class="n">comp_id</span> <span class="o">=</span> <span class="n">component</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;unknown&quot;</span><span class="p">)</span>
<a id="__codelineno-0-670" name="__codelineno-0-670"></a>            <span class="c1"># Create a Z3 boolean variable for &quot;component is healthy&quot;</span>
<a id="__codelineno-0-671" name="__codelineno-0-671"></a>            <span class="n">var</span> <span class="o">=</span> <span class="n">z3</span><span class="o">.</span><span class="n">Bool</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;healthy_</span><span class="si">{</span><span class="n">comp_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-672" name="__codelineno-0-672"></a>            <span class="c1"># For now, assume all components can be healthy</span>
<a id="__codelineno-0-673" name="__codelineno-0-673"></a>            <span class="c1"># (no constraints - this is a placeholder)</span>
<a id="__codelineno-0-674" name="__codelineno-0-674"></a>
<a id="__codelineno-0-675" name="__codelineno-0-675"></a>        <span class="c1"># Create constraints for connections</span>
<a id="__codelineno-0-676" name="__codelineno-0-676"></a>        <span class="c1"># If components A and B are connected and both healthy,</span>
<a id="__codelineno-0-677" name="__codelineno-0-677"></a>        <span class="c1"># they can communicate</span>
<a id="__codelineno-0-678" name="__codelineno-0-678"></a>        <span class="k">for</span> <span class="n">connection</span> <span class="ow">in</span> <span class="n">architecture</span><span class="o">.</span><span class="n">connections</span><span class="p">:</span>
<a id="__codelineno-0-679" name="__codelineno-0-679"></a>            <span class="n">source</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;source&quot;</span><span class="p">,</span> <span class="s2">&quot;unknown&quot;</span><span class="p">)</span>
<a id="__codelineno-0-680" name="__codelineno-0-680"></a>            <span class="n">target</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;target&quot;</span><span class="p">,</span> <span class="s2">&quot;unknown&quot;</span><span class="p">)</span>
<a id="__codelineno-0-681" name="__codelineno-0-681"></a>            <span class="c1"># Placeholder: no actual constraints yet</span>
<a id="__codelineno-0-682" name="__codelineno-0-682"></a>
<a id="__codelineno-0-683" name="__codelineno-0-683"></a>        <span class="k">return</span> <span class="n">constraints</span>
<a id="__codelineno-0-684" name="__codelineno-0-684"></a>
<a id="__codelineno-0-685" name="__codelineno-0-685"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_encode_property</span><span class="p">(</span>
<a id="__codelineno-0-686" name="__codelineno-0-686"></a>        <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-687" name="__codelineno-0-687"></a>        <span class="nb">property</span><span class="p">:</span> <span class="n">TemporalProperty</span><span class="p">,</span>
<a id="__codelineno-0-688" name="__codelineno-0-688"></a>        <span class="n">architecture</span><span class="p">:</span> <span class="n">Architecture</span>
<a id="__codelineno-0-689" name="__codelineno-0-689"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<a id="__codelineno-0-690" name="__codelineno-0-690"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-691" name="__codelineno-0-691"></a><span class="sd">        Encode temporal property as SMT formula.</span>
<a id="__codelineno-0-692" name="__codelineno-0-692"></a>
<a id="__codelineno-0-693" name="__codelineno-0-693"></a><span class="sd">        Uses bounded model checking for temporal operators:</span>
<a id="__codelineno-0-694" name="__codelineno-0-694"></a><span class="sd">        - ALWAYS: Holds in all states up to bound</span>
<a id="__codelineno-0-695" name="__codelineno-0-695"></a><span class="sd">        - EVENTUALLY: Holds in at least one state up to bound</span>
<a id="__codelineno-0-696" name="__codelineno-0-696"></a><span class="sd">        - WITHIN: Holds before time bound</span>
<a id="__codelineno-0-697" name="__codelineno-0-697"></a>
<a id="__codelineno-0-698" name="__codelineno-0-698"></a><span class="sd">        Args:</span>
<a id="__codelineno-0-699" name="__codelineno-0-699"></a><span class="sd">            property: Temporal property to encode</span>
<a id="__codelineno-0-700" name="__codelineno-0-700"></a><span class="sd">            architecture: Architecture context</span>
<a id="__codelineno-0-701" name="__codelineno-0-701"></a>
<a id="__codelineno-0-702" name="__codelineno-0-702"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-703" name="__codelineno-0-703"></a><span class="sd">            Z3 constraint representing the property</span>
<a id="__codelineno-0-704" name="__codelineno-0-704"></a>
<a id="__codelineno-0-705" name="__codelineno-0-705"></a><span class="sd">        Example:</span>
<a id="__codelineno-0-706" name="__codelineno-0-706"></a><span class="sd">            &gt;&gt;&gt; constraint = verifier._encode_property(prop, arch)</span>
<a id="__codelineno-0-707" name="__codelineno-0-707"></a><span class="sd">            &gt;&gt;&gt; solver.add(constraint)</span>
<a id="__codelineno-0-708" name="__codelineno-0-708"></a>
<a id="__codelineno-0-709" name="__codelineno-0-709"></a><span class="sd">        References:</span>
<a id="__codelineno-0-710" name="__codelineno-0-710"></a><span class="sd">        - Bounded model checking: Clarke et al. (1999)</span>
<a id="__codelineno-0-711" name="__codelineno-0-711"></a><span class="sd">        - TD Commons: Temporal property encoding</span>
<a id="__codelineno-0-712" name="__codelineno-0-712"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-713" name="__codelineno-0-713"></a>        <span class="c1"># Get predicate</span>
<a id="__codelineno-0-714" name="__codelineno-0-714"></a>        <span class="n">predicate</span> <span class="o">=</span> <span class="nb">property</span><span class="o">.</span><span class="n">predicate</span>
<a id="__codelineno-0-715" name="__codelineno-0-715"></a>
<a id="__codelineno-0-716" name="__codelineno-0-716"></a>        <span class="c1"># Create a Z3 boolean variable for the predicate</span>
<a id="__codelineno-0-717" name="__codelineno-0-717"></a>        <span class="n">pred_var</span> <span class="o">=</span> <span class="n">z3</span><span class="o">.</span><span class="n">Bool</span><span class="p">(</span><span class="n">predicate</span><span class="p">)</span>
<a id="__codelineno-0-718" name="__codelineno-0-718"></a>
<a id="__codelineno-0-719" name="__codelineno-0-719"></a>        <span class="c1"># Encode based on operator</span>
<a id="__codelineno-0-720" name="__codelineno-0-720"></a>        <span class="k">if</span> <span class="nb">property</span><span class="o">.</span><span class="n">operator</span> <span class="o">==</span> <span class="n">TemporalOperator</span><span class="o">.</span><span class="n">ALWAYS</span><span class="p">:</span>
<a id="__codelineno-0-721" name="__codelineno-0-721"></a>            <span class="c1"># ALWAYS P means P must hold in all states</span>
<a id="__codelineno-0-722" name="__codelineno-0-722"></a>            <span class="c1"># For simplification, we just require P to hold</span>
<a id="__codelineno-0-723" name="__codelineno-0-723"></a>            <span class="c1"># Full implementation would check all reachable states</span>
<a id="__codelineno-0-724" name="__codelineno-0-724"></a>            <span class="k">return</span> <span class="n">pred_var</span>
<a id="__codelineno-0-725" name="__codelineno-0-725"></a>
<a id="__codelineno-0-726" name="__codelineno-0-726"></a>        <span class="k">elif</span> <span class="nb">property</span><span class="o">.</span><span class="n">operator</span> <span class="o">==</span> <span class="n">TemporalOperator</span><span class="o">.</span><span class="n">EVENTUALLY</span><span class="p">:</span>
<a id="__codelineno-0-727" name="__codelineno-0-727"></a>            <span class="c1"># EVENTUALLY P means P must hold in at least one state</span>
<a id="__codelineno-0-728" name="__codelineno-0-728"></a>            <span class="c1"># For simplification, we just require P to hold</span>
<a id="__codelineno-0-729" name="__codelineno-0-729"></a>            <span class="c1"># Full implementation would use bounded model checking</span>
<a id="__codelineno-0-730" name="__codelineno-0-730"></a>            <span class="k">return</span> <span class="n">pred_var</span>
<a id="__codelineno-0-731" name="__codelineno-0-731"></a>
<a id="__codelineno-0-732" name="__codelineno-0-732"></a>        <span class="k">elif</span> <span class="nb">property</span><span class="o">.</span><span class="n">operator</span> <span class="o">==</span> <span class="n">TemporalOperator</span><span class="o">.</span><span class="n">WITHIN</span><span class="p">:</span>
<a id="__codelineno-0-733" name="__codelineno-0-733"></a>            <span class="c1"># WITHIN(t) P means P must hold before time t</span>
<a id="__codelineno-0-734" name="__codelineno-0-734"></a>            <span class="c1"># For simplification, we just require P to hold</span>
<a id="__codelineno-0-735" name="__codelineno-0-735"></a>            <span class="c1"># Full implementation would encode time bounds</span>
<a id="__codelineno-0-736" name="__codelineno-0-736"></a>            <span class="k">return</span> <span class="n">pred_var</span>
<a id="__codelineno-0-737" name="__codelineno-0-737"></a>
<a id="__codelineno-0-738" name="__codelineno-0-738"></a>        <span class="k">elif</span> <span class="nb">property</span><span class="o">.</span><span class="n">operator</span> <span class="o">==</span> <span class="n">TemporalOperator</span><span class="o">.</span><span class="n">UNTIL</span><span class="p">:</span>
<a id="__codelineno-0-739" name="__codelineno-0-739"></a>            <span class="c1"># P UNTIL Q means P holds until Q becomes true</span>
<a id="__codelineno-0-740" name="__codelineno-0-740"></a>            <span class="c1"># For simplification, we just require both</span>
<a id="__codelineno-0-741" name="__codelineno-0-741"></a>            <span class="c1"># Full implementation would encode temporal sequence</span>
<a id="__codelineno-0-742" name="__codelineno-0-742"></a>            <span class="n">param_predicate</span> <span class="o">=</span> <span class="nb">property</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;until_predicate&quot;</span><span class="p">,</span> <span class="s2">&quot;true&quot;</span><span class="p">)</span>
<a id="__codelineno-0-743" name="__codelineno-0-743"></a>            <span class="n">q_var</span> <span class="o">=</span> <span class="n">z3</span><span class="o">.</span><span class="n">Bool</span><span class="p">(</span><span class="n">param_predicate</span><span class="p">)</span>
<a id="__codelineno-0-744" name="__codelineno-0-744"></a>            <span class="k">return</span> <span class="n">z3</span><span class="o">.</span><span class="n">And</span><span class="p">(</span><span class="n">pred_var</span><span class="p">,</span> <span class="n">q_var</span><span class="p">)</span>
<a id="__codelineno-0-745" name="__codelineno-0-745"></a>
<a id="__codelineno-0-746" name="__codelineno-0-746"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-747" name="__codelineno-0-747"></a>            <span class="c1"># Unknown operator</span>
<a id="__codelineno-0-748" name="__codelineno-0-748"></a>            <span class="k">return</span> <span class="n">z3</span><span class="o">.</span><span class="n">BoolVal</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-749" name="__codelineno-0-749"></a>
<a id="__codelineno-0-750" name="__codelineno-0-750"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_extract_counterexample</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">solver</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
<a id="__codelineno-0-751" name="__codelineno-0-751"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-752" name="__codelineno-0-752"></a><span class="sd">        Extract counterexample from unsatisfiable solver.</span>
<a id="__codelineno-0-753" name="__codelineno-0-753"></a>
<a id="__codelineno-0-754" name="__codelineno-0-754"></a><span class="sd">        When a property is disproved, Z3 can provide a model (counterexample)</span>
<a id="__codelineno-0-755" name="__codelineno-0-755"></a><span class="sd">        showing why the property doesn&#39;t hold.</span>
<a id="__codelineno-0-756" name="__codelineno-0-756"></a>
<a id="__codelineno-0-757" name="__codelineno-0-757"></a><span class="sd">        Args:</span>
<a id="__codelineno-0-758" name="__codelineno-0-758"></a><span class="sd">            solver: Z3 solver with unsat result</span>
<a id="__codelineno-0-759" name="__codelineno-0-759"></a>
<a id="__codelineno-0-760" name="__codelineno-0-760"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-761" name="__codelineno-0-761"></a><span class="sd">            Dictionary with counterexample data, or None if unavailable</span>
<a id="__codelineno-0-762" name="__codelineno-0-762"></a>
<a id="__codelineno-0-763" name="__codelineno-0-763"></a><span class="sd">        Example:</span>
<a id="__codelineno-0-764" name="__codelineno-0-764"></a><span class="sd">            &gt;&gt;&gt; if solver.check() == z3.unsat:</span>
<a id="__codelineno-0-765" name="__codelineno-0-765"></a><span class="sd">            ...     ce = verifier._extract_counterexample(solver)</span>
<a id="__codelineno-0-766" name="__codelineno-0-766"></a><span class="sd">            ...     print(f&quot;Counterexample: {ce}&quot;)</span>
<a id="__codelineno-0-767" name="__codelineno-0-767"></a>
<a id="__codelineno-0-768" name="__codelineno-0-768"></a><span class="sd">        References:</span>
<a id="__codelineno-0-769" name="__codelineno-0-769"></a><span class="sd">        - Z3: Model extraction</span>
<a id="__codelineno-0-770" name="__codelineno-0-770"></a><span class="sd">        - SMT-LIB: Counterexample representation</span>
<a id="__codelineno-0-771" name="__codelineno-0-771"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-772" name="__codelineno-0-772"></a>        <span class="c1"># For UNSAT, there&#39;s no model</span>
<a id="__codelineno-0-773" name="__codelineno-0-773"></a>        <span class="c1"># For SAT, we could extract the model</span>
<a id="__codelineno-0-774" name="__codelineno-0-774"></a>        <span class="c1"># This is a placeholder implementation</span>
<a id="__codelineno-0-775" name="__codelineno-0-775"></a>        <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-776" name="__codelineno-0-776"></a>            <span class="k">if</span> <span class="n">solver</span><span class="o">.</span><span class="n">check</span><span class="p">()</span> <span class="o">==</span> <span class="n">z3</span><span class="o">.</span><span class="n">sat</span><span class="p">:</span>
<a id="__codelineno-0-777" name="__codelineno-0-777"></a>                <span class="n">model</span> <span class="o">=</span> <span class="n">solver</span><span class="o">.</span><span class="n">model</span><span class="p">()</span>
<a id="__codelineno-0-778" name="__codelineno-0-778"></a>                <span class="n">counterexample</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-0-779" name="__codelineno-0-779"></a>                <span class="k">for</span> <span class="n">decl</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">decls</span><span class="p">():</span>
<a id="__codelineno-0-780" name="__codelineno-0-780"></a>                    <span class="n">counterexample</span><span class="p">[</span><span class="n">decl</span><span class="o">.</span><span class="n">name</span><span class="p">()]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">model</span><span class="p">[</span><span class="n">decl</span><span class="p">])</span>
<a id="__codelineno-0-781" name="__codelineno-0-781"></a>                <span class="k">return</span> <span class="n">counterexample</span>
<a id="__codelineno-0-782" name="__codelineno-0-782"></a>        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
<a id="__codelineno-0-783" name="__codelineno-0-783"></a>            <span class="k">pass</span>
<a id="__codelineno-0-784" name="__codelineno-0-784"></a>
<a id="__codelineno-0-785" name="__codelineno-0-785"></a>        <span class="k">return</span> <span class="kc">None</span>
<a id="__codelineno-0-786" name="__codelineno-0-786"></a>
<a id="__codelineno-0-787" name="__codelineno-0-787"></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<a id="__codelineno-0-788" name="__codelineno-0-788"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Human-readable representation.&quot;&quot;&quot;</span>
<a id="__codelineno-0-789" name="__codelineno-0-789"></a>        <span class="n">cache_info</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">enable_cache</span> <span class="k">else</span> <span class="s2">&quot;disabled&quot;</span>
<a id="__codelineno-0-790" name="__codelineno-0-790"></a>        <span class="k">return</span> <span class="p">(</span>
<a id="__codelineno-0-791" name="__codelineno-0-791"></a>            <span class="sa">f</span><span class="s2">&quot;Verifier(timeout=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">timeout</span><span class="si">}</span><span class="s2">ms, &quot;</span>
<a id="__codelineno-0-792" name="__codelineno-0-792"></a>            <span class="sa">f</span><span class="s2">&quot;cache=</span><span class="si">{</span><span class="n">cache_info</span><span class="si">}</span><span class="s2">)&quot;</span>
<a id="__codelineno-0-793" name="__codelineno-0-793"></a>        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">








<h3 id="upir.verification.verifier.Verifier-functions">Functions<a href="#upir.verification.verifier.Verifier-functions" class="headerlink" title="Permanent link">&para;</a></h3>

<div class="doc doc-object doc-function">


<h4 id="upir.verification.verifier.Verifier.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="mi">30000</span><span class="p">,</span> <span class="n">enable_cache</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cache_size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span></code>

<a href="#upir.verification.verifier.Verifier.__init__" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

        <p>Initialize verifier with timeout and caching options.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>timeout</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Timeout in milliseconds (default: 30000 = 30 seconds)</p>
              </div>
            </td>
            <td>
                  <code>30000</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>enable_cache</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Enable result caching (default: True)</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>cache_size</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Maximum cache entries with LRU eviction (default: 1000)</p>
              </div>
            </td>
            <td>
                  <code>1000</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="RuntimeError">RuntimeError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If Z3 is not available</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>verifier = Verifier(timeout=60000, enable_cache=True, cache_size=500)</p>
</blockquote>
</blockquote>
</blockquote>
</details>

            <details class="mkdocstrings-source">
              <summary>Source code in <code>upir/verification/verifier.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-298">298</a></span>
<span class="normal"><a href="#__codelineno-0-299">299</a></span>
<span class="normal"><a href="#__codelineno-0-300">300</a></span>
<span class="normal"><a href="#__codelineno-0-301">301</a></span>
<span class="normal"><a href="#__codelineno-0-302">302</a></span>
<span class="normal"><a href="#__codelineno-0-303">303</a></span>
<span class="normal"><a href="#__codelineno-0-304">304</a></span>
<span class="normal"><a href="#__codelineno-0-305">305</a></span>
<span class="normal"><a href="#__codelineno-0-306">306</a></span>
<span class="normal"><a href="#__codelineno-0-307">307</a></span>
<span class="normal"><a href="#__codelineno-0-308">308</a></span>
<span class="normal"><a href="#__codelineno-0-309">309</a></span>
<span class="normal"><a href="#__codelineno-0-310">310</a></span>
<span class="normal"><a href="#__codelineno-0-311">311</a></span>
<span class="normal"><a href="#__codelineno-0-312">312</a></span>
<span class="normal"><a href="#__codelineno-0-313">313</a></span>
<span class="normal"><a href="#__codelineno-0-314">314</a></span>
<span class="normal"><a href="#__codelineno-0-315">315</a></span>
<span class="normal"><a href="#__codelineno-0-316">316</a></span>
<span class="normal"><a href="#__codelineno-0-317">317</a></span>
<span class="normal"><a href="#__codelineno-0-318">318</a></span>
<span class="normal"><a href="#__codelineno-0-319">319</a></span>
<span class="normal"><a href="#__codelineno-0-320">320</a></span>
<span class="normal"><a href="#__codelineno-0-321">321</a></span>
<span class="normal"><a href="#__codelineno-0-322">322</a></span>
<span class="normal"><a href="#__codelineno-0-323">323</a></span>
<span class="normal"><a href="#__codelineno-0-324">324</a></span>
<span class="normal"><a href="#__codelineno-0-325">325</a></span>
<span class="normal"><a href="#__codelineno-0-326">326</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-298" name="__codelineno-0-298"></a><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
<a id="__codelineno-0-299" name="__codelineno-0-299"></a>    <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-300" name="__codelineno-0-300"></a>    <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">30000</span><span class="p">,</span>
<a id="__codelineno-0-301" name="__codelineno-0-301"></a>    <span class="n">enable_cache</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-302" name="__codelineno-0-302"></a>    <span class="n">cache_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1000</span>
<a id="__codelineno-0-303" name="__codelineno-0-303"></a><span class="p">):</span>
<a id="__codelineno-0-304" name="__codelineno-0-304"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-305" name="__codelineno-0-305"></a><span class="sd">    Initialize verifier with timeout and caching options.</span>
<a id="__codelineno-0-306" name="__codelineno-0-306"></a>
<a id="__codelineno-0-307" name="__codelineno-0-307"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-308" name="__codelineno-0-308"></a><span class="sd">        timeout: Timeout in milliseconds (default: 30000 = 30 seconds)</span>
<a id="__codelineno-0-309" name="__codelineno-0-309"></a><span class="sd">        enable_cache: Enable result caching (default: True)</span>
<a id="__codelineno-0-310" name="__codelineno-0-310"></a><span class="sd">        cache_size: Maximum cache entries with LRU eviction (default: 1000)</span>
<a id="__codelineno-0-311" name="__codelineno-0-311"></a>
<a id="__codelineno-0-312" name="__codelineno-0-312"></a><span class="sd">    Raises:</span>
<a id="__codelineno-0-313" name="__codelineno-0-313"></a><span class="sd">        RuntimeError: If Z3 is not available</span>
<a id="__codelineno-0-314" name="__codelineno-0-314"></a>
<a id="__codelineno-0-315" name="__codelineno-0-315"></a><span class="sd">    Example:</span>
<a id="__codelineno-0-316" name="__codelineno-0-316"></a><span class="sd">        &gt;&gt;&gt; verifier = Verifier(timeout=60000, enable_cache=True, cache_size=500)</span>
<a id="__codelineno-0-317" name="__codelineno-0-317"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-318" name="__codelineno-0-318"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">is_z3_available</span><span class="p">():</span>
<a id="__codelineno-0-319" name="__codelineno-0-319"></a>        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
<a id="__codelineno-0-320" name="__codelineno-0-320"></a>            <span class="s2">&quot;Z3 solver is not available. &quot;</span>
<a id="__codelineno-0-321" name="__codelineno-0-321"></a>            <span class="s2">&quot;Install with: pip install z3-solver&quot;</span>
<a id="__codelineno-0-322" name="__codelineno-0-322"></a>        <span class="p">)</span>
<a id="__codelineno-0-323" name="__codelineno-0-323"></a>
<a id="__codelineno-0-324" name="__codelineno-0-324"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">timeout</span> <span class="o">=</span> <span class="n">timeout</span>
<a id="__codelineno-0-325" name="__codelineno-0-325"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">enable_cache</span> <span class="o">=</span> <span class="n">enable_cache</span>
<a id="__codelineno-0-326" name="__codelineno-0-326"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">cache</span> <span class="o">=</span> <span class="n">ProofCache</span><span class="p">(</span><span class="n">max_size</span><span class="o">=</span><span class="n">cache_size</span><span class="p">)</span> <span class="k">if</span> <span class="n">enable_cache</span> <span class="k">else</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="upir.verification.verifier.Verifier.verify_property" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">verify_property</span><span class="p">(</span><span class="nb">property</span><span class="p">,</span> <span class="n">architecture</span><span class="p">,</span> <span class="n">assumptions</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#upir.verification.verifier.Verifier.verify_property" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

        <p>Verify a single temporal property against an architecture.</p>
<p>This is the core verification method. It:
1. Checks cache if enabled
2. Encodes architecture as SMT constraints
3. Encodes property as SMT formula
4. Invokes Z3 solver with timeout
5. Extracts result, counterexample, or proof certificate
6. Caches result if enabled</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>property</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="upir.core.temporal.TemporalProperty


  
      dataclass
  " href="../../core/temporal/#upir.core.temporal.TemporalProperty">TemporalProperty</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Temporal property to verify</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>architecture</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="upir.core.architecture.Architecture


  
      dataclass
  " href="../../core/architecture/#upir.core.architecture.Architecture">Architecture</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>System architecture to verify against</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>assumptions</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.List">List</span>[<span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional list of assumptions (e.g., "network_reliable")</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="upir.verification.solver.VerificationResult


  
      dataclass
  " href="../solver/#upir.verification.solver.VerificationResult">VerificationResult</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>VerificationResult with status, certificate, counterexample, timing</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>prop = TemporalProperty(
...     operator=TemporalOperator.ALWAYS,
...     predicate="data_consistent"
... )
result = verifier.verify_property(prop, architecture)
print(f"Verified: {result.verified}")</p>
</blockquote>
</blockquote>
</blockquote>
</details>        <p>References:
- TD Commons: Property verification algorithm
- Z3: SMT solving and model extraction</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>upir/verification/verifier.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-328">328</a></span>
<span class="normal"><a href="#__codelineno-0-329">329</a></span>
<span class="normal"><a href="#__codelineno-0-330">330</a></span>
<span class="normal"><a href="#__codelineno-0-331">331</a></span>
<span class="normal"><a href="#__codelineno-0-332">332</a></span>
<span class="normal"><a href="#__codelineno-0-333">333</a></span>
<span class="normal"><a href="#__codelineno-0-334">334</a></span>
<span class="normal"><a href="#__codelineno-0-335">335</a></span>
<span class="normal"><a href="#__codelineno-0-336">336</a></span>
<span class="normal"><a href="#__codelineno-0-337">337</a></span>
<span class="normal"><a href="#__codelineno-0-338">338</a></span>
<span class="normal"><a href="#__codelineno-0-339">339</a></span>
<span class="normal"><a href="#__codelineno-0-340">340</a></span>
<span class="normal"><a href="#__codelineno-0-341">341</a></span>
<span class="normal"><a href="#__codelineno-0-342">342</a></span>
<span class="normal"><a href="#__codelineno-0-343">343</a></span>
<span class="normal"><a href="#__codelineno-0-344">344</a></span>
<span class="normal"><a href="#__codelineno-0-345">345</a></span>
<span class="normal"><a href="#__codelineno-0-346">346</a></span>
<span class="normal"><a href="#__codelineno-0-347">347</a></span>
<span class="normal"><a href="#__codelineno-0-348">348</a></span>
<span class="normal"><a href="#__codelineno-0-349">349</a></span>
<span class="normal"><a href="#__codelineno-0-350">350</a></span>
<span class="normal"><a href="#__codelineno-0-351">351</a></span>
<span class="normal"><a href="#__codelineno-0-352">352</a></span>
<span class="normal"><a href="#__codelineno-0-353">353</a></span>
<span class="normal"><a href="#__codelineno-0-354">354</a></span>
<span class="normal"><a href="#__codelineno-0-355">355</a></span>
<span class="normal"><a href="#__codelineno-0-356">356</a></span>
<span class="normal"><a href="#__codelineno-0-357">357</a></span>
<span class="normal"><a href="#__codelineno-0-358">358</a></span>
<span class="normal"><a href="#__codelineno-0-359">359</a></span>
<span class="normal"><a href="#__codelineno-0-360">360</a></span>
<span class="normal"><a href="#__codelineno-0-361">361</a></span>
<span class="normal"><a href="#__codelineno-0-362">362</a></span>
<span class="normal"><a href="#__codelineno-0-363">363</a></span>
<span class="normal"><a href="#__codelineno-0-364">364</a></span>
<span class="normal"><a href="#__codelineno-0-365">365</a></span>
<span class="normal"><a href="#__codelineno-0-366">366</a></span>
<span class="normal"><a href="#__codelineno-0-367">367</a></span>
<span class="normal"><a href="#__codelineno-0-368">368</a></span>
<span class="normal"><a href="#__codelineno-0-369">369</a></span>
<span class="normal"><a href="#__codelineno-0-370">370</a></span>
<span class="normal"><a href="#__codelineno-0-371">371</a></span>
<span class="normal"><a href="#__codelineno-0-372">372</a></span>
<span class="normal"><a href="#__codelineno-0-373">373</a></span>
<span class="normal"><a href="#__codelineno-0-374">374</a></span>
<span class="normal"><a href="#__codelineno-0-375">375</a></span>
<span class="normal"><a href="#__codelineno-0-376">376</a></span>
<span class="normal"><a href="#__codelineno-0-377">377</a></span>
<span class="normal"><a href="#__codelineno-0-378">378</a></span>
<span class="normal"><a href="#__codelineno-0-379">379</a></span>
<span class="normal"><a href="#__codelineno-0-380">380</a></span>
<span class="normal"><a href="#__codelineno-0-381">381</a></span>
<span class="normal"><a href="#__codelineno-0-382">382</a></span>
<span class="normal"><a href="#__codelineno-0-383">383</a></span>
<span class="normal"><a href="#__codelineno-0-384">384</a></span>
<span class="normal"><a href="#__codelineno-0-385">385</a></span>
<span class="normal"><a href="#__codelineno-0-386">386</a></span>
<span class="normal"><a href="#__codelineno-0-387">387</a></span>
<span class="normal"><a href="#__codelineno-0-388">388</a></span>
<span class="normal"><a href="#__codelineno-0-389">389</a></span>
<span class="normal"><a href="#__codelineno-0-390">390</a></span>
<span class="normal"><a href="#__codelineno-0-391">391</a></span>
<span class="normal"><a href="#__codelineno-0-392">392</a></span>
<span class="normal"><a href="#__codelineno-0-393">393</a></span>
<span class="normal"><a href="#__codelineno-0-394">394</a></span>
<span class="normal"><a href="#__codelineno-0-395">395</a></span>
<span class="normal"><a href="#__codelineno-0-396">396</a></span>
<span class="normal"><a href="#__codelineno-0-397">397</a></span>
<span class="normal"><a href="#__codelineno-0-398">398</a></span>
<span class="normal"><a href="#__codelineno-0-399">399</a></span>
<span class="normal"><a href="#__codelineno-0-400">400</a></span>
<span class="normal"><a href="#__codelineno-0-401">401</a></span>
<span class="normal"><a href="#__codelineno-0-402">402</a></span>
<span class="normal"><a href="#__codelineno-0-403">403</a></span>
<span class="normal"><a href="#__codelineno-0-404">404</a></span>
<span class="normal"><a href="#__codelineno-0-405">405</a></span>
<span class="normal"><a href="#__codelineno-0-406">406</a></span>
<span class="normal"><a href="#__codelineno-0-407">407</a></span>
<span class="normal"><a href="#__codelineno-0-408">408</a></span>
<span class="normal"><a href="#__codelineno-0-409">409</a></span>
<span class="normal"><a href="#__codelineno-0-410">410</a></span>
<span class="normal"><a href="#__codelineno-0-411">411</a></span>
<span class="normal"><a href="#__codelineno-0-412">412</a></span>
<span class="normal"><a href="#__codelineno-0-413">413</a></span>
<span class="normal"><a href="#__codelineno-0-414">414</a></span>
<span class="normal"><a href="#__codelineno-0-415">415</a></span>
<span class="normal"><a href="#__codelineno-0-416">416</a></span>
<span class="normal"><a href="#__codelineno-0-417">417</a></span>
<span class="normal"><a href="#__codelineno-0-418">418</a></span>
<span class="normal"><a href="#__codelineno-0-419">419</a></span>
<span class="normal"><a href="#__codelineno-0-420">420</a></span>
<span class="normal"><a href="#__codelineno-0-421">421</a></span>
<span class="normal"><a href="#__codelineno-0-422">422</a></span>
<span class="normal"><a href="#__codelineno-0-423">423</a></span>
<span class="normal"><a href="#__codelineno-0-424">424</a></span>
<span class="normal"><a href="#__codelineno-0-425">425</a></span>
<span class="normal"><a href="#__codelineno-0-426">426</a></span>
<span class="normal"><a href="#__codelineno-0-427">427</a></span>
<span class="normal"><a href="#__codelineno-0-428">428</a></span>
<span class="normal"><a href="#__codelineno-0-429">429</a></span>
<span class="normal"><a href="#__codelineno-0-430">430</a></span>
<span class="normal"><a href="#__codelineno-0-431">431</a></span>
<span class="normal"><a href="#__codelineno-0-432">432</a></span>
<span class="normal"><a href="#__codelineno-0-433">433</a></span>
<span class="normal"><a href="#__codelineno-0-434">434</a></span>
<span class="normal"><a href="#__codelineno-0-435">435</a></span>
<span class="normal"><a href="#__codelineno-0-436">436</a></span>
<span class="normal"><a href="#__codelineno-0-437">437</a></span>
<span class="normal"><a href="#__codelineno-0-438">438</a></span>
<span class="normal"><a href="#__codelineno-0-439">439</a></span>
<span class="normal"><a href="#__codelineno-0-440">440</a></span>
<span class="normal"><a href="#__codelineno-0-441">441</a></span>
<span class="normal"><a href="#__codelineno-0-442">442</a></span>
<span class="normal"><a href="#__codelineno-0-443">443</a></span>
<span class="normal"><a href="#__codelineno-0-444">444</a></span>
<span class="normal"><a href="#__codelineno-0-445">445</a></span>
<span class="normal"><a href="#__codelineno-0-446">446</a></span>
<span class="normal"><a href="#__codelineno-0-447">447</a></span>
<span class="normal"><a href="#__codelineno-0-448">448</a></span>
<span class="normal"><a href="#__codelineno-0-449">449</a></span>
<span class="normal"><a href="#__codelineno-0-450">450</a></span>
<span class="normal"><a href="#__codelineno-0-451">451</a></span>
<span class="normal"><a href="#__codelineno-0-452">452</a></span>
<span class="normal"><a href="#__codelineno-0-453">453</a></span>
<span class="normal"><a href="#__codelineno-0-454">454</a></span>
<span class="normal"><a href="#__codelineno-0-455">455</a></span>
<span class="normal"><a href="#__codelineno-0-456">456</a></span>
<span class="normal"><a href="#__codelineno-0-457">457</a></span>
<span class="normal"><a href="#__codelineno-0-458">458</a></span>
<span class="normal"><a href="#__codelineno-0-459">459</a></span>
<span class="normal"><a href="#__codelineno-0-460">460</a></span>
<span class="normal"><a href="#__codelineno-0-461">461</a></span>
<span class="normal"><a href="#__codelineno-0-462">462</a></span>
<span class="normal"><a href="#__codelineno-0-463">463</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-328" name="__codelineno-0-328"></a><span class="k">def</span><span class="w"> </span><span class="nf">verify_property</span><span class="p">(</span>
<a id="__codelineno-0-329" name="__codelineno-0-329"></a>    <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-330" name="__codelineno-0-330"></a>    <span class="nb">property</span><span class="p">:</span> <span class="n">TemporalProperty</span><span class="p">,</span>
<a id="__codelineno-0-331" name="__codelineno-0-331"></a>    <span class="n">architecture</span><span class="p">:</span> <span class="n">Architecture</span><span class="p">,</span>
<a id="__codelineno-0-332" name="__codelineno-0-332"></a>    <span class="n">assumptions</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-333" name="__codelineno-0-333"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VerificationResult</span><span class="p">:</span>
<a id="__codelineno-0-334" name="__codelineno-0-334"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-335" name="__codelineno-0-335"></a><span class="sd">    Verify a single temporal property against an architecture.</span>
<a id="__codelineno-0-336" name="__codelineno-0-336"></a>
<a id="__codelineno-0-337" name="__codelineno-0-337"></a><span class="sd">    This is the core verification method. It:</span>
<a id="__codelineno-0-338" name="__codelineno-0-338"></a><span class="sd">    1. Checks cache if enabled</span>
<a id="__codelineno-0-339" name="__codelineno-0-339"></a><span class="sd">    2. Encodes architecture as SMT constraints</span>
<a id="__codelineno-0-340" name="__codelineno-0-340"></a><span class="sd">    3. Encodes property as SMT formula</span>
<a id="__codelineno-0-341" name="__codelineno-0-341"></a><span class="sd">    4. Invokes Z3 solver with timeout</span>
<a id="__codelineno-0-342" name="__codelineno-0-342"></a><span class="sd">    5. Extracts result, counterexample, or proof certificate</span>
<a id="__codelineno-0-343" name="__codelineno-0-343"></a><span class="sd">    6. Caches result if enabled</span>
<a id="__codelineno-0-344" name="__codelineno-0-344"></a>
<a id="__codelineno-0-345" name="__codelineno-0-345"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-346" name="__codelineno-0-346"></a><span class="sd">        property: Temporal property to verify</span>
<a id="__codelineno-0-347" name="__codelineno-0-347"></a><span class="sd">        architecture: System architecture to verify against</span>
<a id="__codelineno-0-348" name="__codelineno-0-348"></a><span class="sd">        assumptions: Optional list of assumptions (e.g., &quot;network_reliable&quot;)</span>
<a id="__codelineno-0-349" name="__codelineno-0-349"></a>
<a id="__codelineno-0-350" name="__codelineno-0-350"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-351" name="__codelineno-0-351"></a><span class="sd">        VerificationResult with status, certificate, counterexample, timing</span>
<a id="__codelineno-0-352" name="__codelineno-0-352"></a>
<a id="__codelineno-0-353" name="__codelineno-0-353"></a><span class="sd">    Example:</span>
<a id="__codelineno-0-354" name="__codelineno-0-354"></a><span class="sd">        &gt;&gt;&gt; prop = TemporalProperty(</span>
<a id="__codelineno-0-355" name="__codelineno-0-355"></a><span class="sd">        ...     operator=TemporalOperator.ALWAYS,</span>
<a id="__codelineno-0-356" name="__codelineno-0-356"></a><span class="sd">        ...     predicate=&quot;data_consistent&quot;</span>
<a id="__codelineno-0-357" name="__codelineno-0-357"></a><span class="sd">        ... )</span>
<a id="__codelineno-0-358" name="__codelineno-0-358"></a><span class="sd">        &gt;&gt;&gt; result = verifier.verify_property(prop, architecture)</span>
<a id="__codelineno-0-359" name="__codelineno-0-359"></a><span class="sd">        &gt;&gt;&gt; print(f&quot;Verified: {result.verified}&quot;)</span>
<a id="__codelineno-0-360" name="__codelineno-0-360"></a>
<a id="__codelineno-0-361" name="__codelineno-0-361"></a><span class="sd">    References:</span>
<a id="__codelineno-0-362" name="__codelineno-0-362"></a><span class="sd">    - TD Commons: Property verification algorithm</span>
<a id="__codelineno-0-363" name="__codelineno-0-363"></a><span class="sd">    - Z3: SMT solving and model extraction</span>
<a id="__codelineno-0-364" name="__codelineno-0-364"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-365" name="__codelineno-0-365"></a>    <span class="n">assumptions</span> <span class="o">=</span> <span class="n">assumptions</span> <span class="ow">or</span> <span class="p">[]</span>
<a id="__codelineno-0-366" name="__codelineno-0-366"></a>
<a id="__codelineno-0-367" name="__codelineno-0-367"></a>    <span class="c1"># Check cache first</span>
<a id="__codelineno-0-368" name="__codelineno-0-368"></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">enable_cache</span><span class="p">:</span>
<a id="__codelineno-0-369" name="__codelineno-0-369"></a>        <span class="n">cached</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">property</span><span class="p">,</span> <span class="n">architecture</span><span class="p">)</span>
<a id="__codelineno-0-370" name="__codelineno-0-370"></a>        <span class="k">if</span> <span class="n">cached</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-371" name="__codelineno-0-371"></a>            <span class="k">return</span> <span class="n">cached</span>
<a id="__codelineno-0-372" name="__codelineno-0-372"></a>
<a id="__codelineno-0-373" name="__codelineno-0-373"></a>    <span class="c1"># Start timing</span>
<a id="__codelineno-0-374" name="__codelineno-0-374"></a>    <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<a id="__codelineno-0-375" name="__codelineno-0-375"></a>
<a id="__codelineno-0-376" name="__codelineno-0-376"></a>    <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-377" name="__codelineno-0-377"></a>        <span class="c1"># Create Z3 solver</span>
<a id="__codelineno-0-378" name="__codelineno-0-378"></a>        <span class="n">solver</span> <span class="o">=</span> <span class="n">z3</span><span class="o">.</span><span class="n">Solver</span><span class="p">()</span>
<a id="__codelineno-0-379" name="__codelineno-0-379"></a>        <span class="n">solver</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;timeout&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">timeout</span><span class="p">)</span>
<a id="__codelineno-0-380" name="__codelineno-0-380"></a>
<a id="__codelineno-0-381" name="__codelineno-0-381"></a>        <span class="c1"># Encode architecture as SMT constraints</span>
<a id="__codelineno-0-382" name="__codelineno-0-382"></a>        <span class="n">arch_constraints</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_encode_architecture</span><span class="p">(</span><span class="n">architecture</span><span class="p">)</span>
<a id="__codelineno-0-383" name="__codelineno-0-383"></a>        <span class="k">for</span> <span class="n">constraint</span> <span class="ow">in</span> <span class="n">arch_constraints</span><span class="p">:</span>
<a id="__codelineno-0-384" name="__codelineno-0-384"></a>            <span class="n">solver</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">constraint</span><span class="p">)</span>
<a id="__codelineno-0-385" name="__codelineno-0-385"></a>
<a id="__codelineno-0-386" name="__codelineno-0-386"></a>        <span class="c1"># Encode property as SMT formula</span>
<a id="__codelineno-0-387" name="__codelineno-0-387"></a>        <span class="c1"># For ALWAYS/EVENTUALLY, we use bounded model checking</span>
<a id="__codelineno-0-388" name="__codelineno-0-388"></a>        <span class="n">prop_constraint</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_encode_property</span><span class="p">(</span><span class="nb">property</span><span class="p">,</span> <span class="n">architecture</span><span class="p">)</span>
<a id="__codelineno-0-389" name="__codelineno-0-389"></a>        <span class="n">solver</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">prop_constraint</span><span class="p">)</span>
<a id="__codelineno-0-390" name="__codelineno-0-390"></a>
<a id="__codelineno-0-391" name="__codelineno-0-391"></a>        <span class="c1"># Check satisfiability</span>
<a id="__codelineno-0-392" name="__codelineno-0-392"></a>        <span class="n">check_result</span> <span class="o">=</span> <span class="n">solver</span><span class="o">.</span><span class="n">check</span><span class="p">()</span>
<a id="__codelineno-0-393" name="__codelineno-0-393"></a>
<a id="__codelineno-0-394" name="__codelineno-0-394"></a>        <span class="c1"># Compute execution time</span>
<a id="__codelineno-0-395" name="__codelineno-0-395"></a>        <span class="n">execution_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span>
<a id="__codelineno-0-396" name="__codelineno-0-396"></a>
<a id="__codelineno-0-397" name="__codelineno-0-397"></a>        <span class="c1"># Process result</span>
<a id="__codelineno-0-398" name="__codelineno-0-398"></a>        <span class="k">if</span> <span class="n">check_result</span> <span class="o">==</span> <span class="n">z3</span><span class="o">.</span><span class="n">sat</span><span class="p">:</span>
<a id="__codelineno-0-399" name="__codelineno-0-399"></a>            <span class="c1"># Property is satisfiable - this means it CAN hold</span>
<a id="__codelineno-0-400" name="__codelineno-0-400"></a>            <span class="c1"># For ALWAYS properties, satisfiability means PROVED</span>
<a id="__codelineno-0-401" name="__codelineno-0-401"></a>            <span class="c1"># For EVENTUALLY, it means we found a path</span>
<a id="__codelineno-0-402" name="__codelineno-0-402"></a>            <span class="n">status</span> <span class="o">=</span> <span class="n">VerificationStatus</span><span class="o">.</span><span class="n">PROVED</span>
<a id="__codelineno-0-403" name="__codelineno-0-403"></a>            <span class="n">counterexample</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-404" name="__codelineno-0-404"></a>
<a id="__codelineno-0-405" name="__codelineno-0-405"></a>            <span class="c1"># Generate proof certificate</span>
<a id="__codelineno-0-406" name="__codelineno-0-406"></a>            <span class="n">certificate</span> <span class="o">=</span> <span class="n">ProofCertificate</span><span class="p">(</span>
<a id="__codelineno-0-407" name="__codelineno-0-407"></a>                <span class="n">property_hash</span><span class="o">=</span><span class="nb">property</span><span class="o">.</span><span class="n">hash</span><span class="p">(),</span>
<a id="__codelineno-0-408" name="__codelineno-0-408"></a>                <span class="n">architecture_hash</span><span class="o">=</span><span class="n">architecture</span><span class="o">.</span><span class="n">hash</span><span class="p">(),</span>
<a id="__codelineno-0-409" name="__codelineno-0-409"></a>                <span class="n">status</span><span class="o">=</span><span class="n">status</span><span class="p">,</span>
<a id="__codelineno-0-410" name="__codelineno-0-410"></a>                <span class="n">proof_steps</span><span class="o">=</span><span class="p">[],</span>  <span class="c1"># Z3 doesn&#39;t expose proof steps easily</span>
<a id="__codelineno-0-411" name="__codelineno-0-411"></a>                <span class="n">assumptions</span><span class="o">=</span><span class="n">assumptions</span><span class="p">,</span>
<a id="__codelineno-0-412" name="__codelineno-0-412"></a>                <span class="n">solver_version</span><span class="o">=</span><span class="n">get_z3_version</span><span class="p">()</span>
<a id="__codelineno-0-413" name="__codelineno-0-413"></a>            <span class="p">)</span>
<a id="__codelineno-0-414" name="__codelineno-0-414"></a>
<a id="__codelineno-0-415" name="__codelineno-0-415"></a>        <span class="k">elif</span> <span class="n">check_result</span> <span class="o">==</span> <span class="n">z3</span><span class="o">.</span><span class="n">unsat</span><span class="p">:</span>
<a id="__codelineno-0-416" name="__codelineno-0-416"></a>            <span class="c1"># Property is unsatisfiable - cannot hold</span>
<a id="__codelineno-0-417" name="__codelineno-0-417"></a>            <span class="n">status</span> <span class="o">=</span> <span class="n">VerificationStatus</span><span class="o">.</span><span class="n">DISPROVED</span>
<a id="__codelineno-0-418" name="__codelineno-0-418"></a>            <span class="n">counterexample</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_extract_counterexample</span><span class="p">(</span><span class="n">solver</span><span class="p">)</span>
<a id="__codelineno-0-419" name="__codelineno-0-419"></a>            <span class="n">certificate</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-420" name="__codelineno-0-420"></a>
<a id="__codelineno-0-421" name="__codelineno-0-421"></a>        <span class="k">elif</span> <span class="n">check_result</span> <span class="o">==</span> <span class="n">z3</span><span class="o">.</span><span class="n">unknown</span><span class="p">:</span>
<a id="__codelineno-0-422" name="__codelineno-0-422"></a>            <span class="c1"># Solver couldn&#39;t determine (incomplete theory, heuristics failed)</span>
<a id="__codelineno-0-423" name="__codelineno-0-423"></a>            <span class="n">reason</span> <span class="o">=</span> <span class="n">solver</span><span class="o">.</span><span class="n">reason_unknown</span><span class="p">()</span>
<a id="__codelineno-0-424" name="__codelineno-0-424"></a>            <span class="k">if</span> <span class="s2">&quot;timeout&quot;</span> <span class="ow">in</span> <span class="n">reason</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
<a id="__codelineno-0-425" name="__codelineno-0-425"></a>                <span class="n">status</span> <span class="o">=</span> <span class="n">VerificationStatus</span><span class="o">.</span><span class="n">TIMEOUT</span>
<a id="__codelineno-0-426" name="__codelineno-0-426"></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-427" name="__codelineno-0-427"></a>                <span class="n">status</span> <span class="o">=</span> <span class="n">VerificationStatus</span><span class="o">.</span><span class="n">UNKNOWN</span>
<a id="__codelineno-0-428" name="__codelineno-0-428"></a>            <span class="n">counterexample</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-429" name="__codelineno-0-429"></a>            <span class="n">certificate</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-430" name="__codelineno-0-430"></a>
<a id="__codelineno-0-431" name="__codelineno-0-431"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-432" name="__codelineno-0-432"></a>            <span class="c1"># Unexpected result</span>
<a id="__codelineno-0-433" name="__codelineno-0-433"></a>            <span class="n">status</span> <span class="o">=</span> <span class="n">VerificationStatus</span><span class="o">.</span><span class="n">ERROR</span>
<a id="__codelineno-0-434" name="__codelineno-0-434"></a>            <span class="n">counterexample</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-435" name="__codelineno-0-435"></a>            <span class="n">certificate</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-436" name="__codelineno-0-436"></a>
<a id="__codelineno-0-437" name="__codelineno-0-437"></a>        <span class="c1"># Create result</span>
<a id="__codelineno-0-438" name="__codelineno-0-438"></a>        <span class="n">result</span> <span class="o">=</span> <span class="n">VerificationResult</span><span class="p">(</span>
<a id="__codelineno-0-439" name="__codelineno-0-439"></a>            <span class="nb">property</span><span class="o">=</span><span class="nb">property</span><span class="p">,</span>
<a id="__codelineno-0-440" name="__codelineno-0-440"></a>            <span class="n">status</span><span class="o">=</span><span class="n">status</span><span class="p">,</span>
<a id="__codelineno-0-441" name="__codelineno-0-441"></a>            <span class="n">certificate</span><span class="o">=</span><span class="n">certificate</span><span class="p">,</span>
<a id="__codelineno-0-442" name="__codelineno-0-442"></a>            <span class="n">counterexample</span><span class="o">=</span><span class="n">counterexample</span><span class="p">,</span>
<a id="__codelineno-0-443" name="__codelineno-0-443"></a>            <span class="n">execution_time</span><span class="o">=</span><span class="n">execution_time</span><span class="p">,</span>
<a id="__codelineno-0-444" name="__codelineno-0-444"></a>            <span class="n">cached</span><span class="o">=</span><span class="kc">False</span>
<a id="__codelineno-0-445" name="__codelineno-0-445"></a>        <span class="p">)</span>
<a id="__codelineno-0-446" name="__codelineno-0-446"></a>
<a id="__codelineno-0-447" name="__codelineno-0-447"></a>        <span class="c1"># Cache result</span>
<a id="__codelineno-0-448" name="__codelineno-0-448"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">enable_cache</span><span class="p">:</span>
<a id="__codelineno-0-449" name="__codelineno-0-449"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">cache</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="nb">property</span><span class="p">,</span> <span class="n">architecture</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
<a id="__codelineno-0-450" name="__codelineno-0-450"></a>
<a id="__codelineno-0-451" name="__codelineno-0-451"></a>        <span class="k">return</span> <span class="n">result</span>
<a id="__codelineno-0-452" name="__codelineno-0-452"></a>
<a id="__codelineno-0-453" name="__codelineno-0-453"></a>    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<a id="__codelineno-0-454" name="__codelineno-0-454"></a>        <span class="c1"># Handle errors gracefully</span>
<a id="__codelineno-0-455" name="__codelineno-0-455"></a>        <span class="n">execution_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span>
<a id="__codelineno-0-456" name="__codelineno-0-456"></a>        <span class="k">return</span> <span class="n">VerificationResult</span><span class="p">(</span>
<a id="__codelineno-0-457" name="__codelineno-0-457"></a>            <span class="nb">property</span><span class="o">=</span><span class="nb">property</span><span class="p">,</span>
<a id="__codelineno-0-458" name="__codelineno-0-458"></a>            <span class="n">status</span><span class="o">=</span><span class="n">VerificationStatus</span><span class="o">.</span><span class="n">ERROR</span><span class="p">,</span>
<a id="__codelineno-0-459" name="__codelineno-0-459"></a>            <span class="n">certificate</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-460" name="__codelineno-0-460"></a>            <span class="n">counterexample</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)},</span>
<a id="__codelineno-0-461" name="__codelineno-0-461"></a>            <span class="n">execution_time</span><span class="o">=</span><span class="n">execution_time</span><span class="p">,</span>
<a id="__codelineno-0-462" name="__codelineno-0-462"></a>            <span class="n">cached</span><span class="o">=</span><span class="kc">False</span>
<a id="__codelineno-0-463" name="__codelineno-0-463"></a>        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="upir.verification.verifier.Verifier.verify_specification" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">verify_specification</span><span class="p">(</span><span class="n">upir</span><span class="p">)</span></code>

<a href="#upir.verification.verifier.Verifier.verify_specification" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

        <p>Verify all properties in a UPIR specification.</p>
<p>Verifies both invariants and properties from the formal specification
against the architecture. Returns results for all properties.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>upir</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="upir.core.upir.UPIR


  
      dataclass
  " href="../../core/upir/#upir.core.upir.UPIR">UPIR</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>UPIR instance with specification and architecture</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="upir.verification.solver.VerificationResult


  
      dataclass
  " href="../solver/#upir.verification.solver.VerificationResult">VerificationResult</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of VerificationResult, one per property</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If UPIR is missing specification or architecture</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>upir = UPIR(...)
upir.specification = FormalSpecification(...)
upir.architecture = Architecture(...)
results = verifier.verify_specification(upir)
verified_count = sum(1 for r in results if r.verified)
print(f"Verified {verified_count}/{len(results)} properties")</p>
</blockquote>
</blockquote>
</blockquote>
</details>        <p>References:
- TD Commons: Specification verification workflow</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>upir/verification/verifier.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-465">465</a></span>
<span class="normal"><a href="#__codelineno-0-466">466</a></span>
<span class="normal"><a href="#__codelineno-0-467">467</a></span>
<span class="normal"><a href="#__codelineno-0-468">468</a></span>
<span class="normal"><a href="#__codelineno-0-469">469</a></span>
<span class="normal"><a href="#__codelineno-0-470">470</a></span>
<span class="normal"><a href="#__codelineno-0-471">471</a></span>
<span class="normal"><a href="#__codelineno-0-472">472</a></span>
<span class="normal"><a href="#__codelineno-0-473">473</a></span>
<span class="normal"><a href="#__codelineno-0-474">474</a></span>
<span class="normal"><a href="#__codelineno-0-475">475</a></span>
<span class="normal"><a href="#__codelineno-0-476">476</a></span>
<span class="normal"><a href="#__codelineno-0-477">477</a></span>
<span class="normal"><a href="#__codelineno-0-478">478</a></span>
<span class="normal"><a href="#__codelineno-0-479">479</a></span>
<span class="normal"><a href="#__codelineno-0-480">480</a></span>
<span class="normal"><a href="#__codelineno-0-481">481</a></span>
<span class="normal"><a href="#__codelineno-0-482">482</a></span>
<span class="normal"><a href="#__codelineno-0-483">483</a></span>
<span class="normal"><a href="#__codelineno-0-484">484</a></span>
<span class="normal"><a href="#__codelineno-0-485">485</a></span>
<span class="normal"><a href="#__codelineno-0-486">486</a></span>
<span class="normal"><a href="#__codelineno-0-487">487</a></span>
<span class="normal"><a href="#__codelineno-0-488">488</a></span>
<span class="normal"><a href="#__codelineno-0-489">489</a></span>
<span class="normal"><a href="#__codelineno-0-490">490</a></span>
<span class="normal"><a href="#__codelineno-0-491">491</a></span>
<span class="normal"><a href="#__codelineno-0-492">492</a></span>
<span class="normal"><a href="#__codelineno-0-493">493</a></span>
<span class="normal"><a href="#__codelineno-0-494">494</a></span>
<span class="normal"><a href="#__codelineno-0-495">495</a></span>
<span class="normal"><a href="#__codelineno-0-496">496</a></span>
<span class="normal"><a href="#__codelineno-0-497">497</a></span>
<span class="normal"><a href="#__codelineno-0-498">498</a></span>
<span class="normal"><a href="#__codelineno-0-499">499</a></span>
<span class="normal"><a href="#__codelineno-0-500">500</a></span>
<span class="normal"><a href="#__codelineno-0-501">501</a></span>
<span class="normal"><a href="#__codelineno-0-502">502</a></span>
<span class="normal"><a href="#__codelineno-0-503">503</a></span>
<span class="normal"><a href="#__codelineno-0-504">504</a></span>
<span class="normal"><a href="#__codelineno-0-505">505</a></span>
<span class="normal"><a href="#__codelineno-0-506">506</a></span>
<span class="normal"><a href="#__codelineno-0-507">507</a></span>
<span class="normal"><a href="#__codelineno-0-508">508</a></span>
<span class="normal"><a href="#__codelineno-0-509">509</a></span>
<span class="normal"><a href="#__codelineno-0-510">510</a></span>
<span class="normal"><a href="#__codelineno-0-511">511</a></span>
<span class="normal"><a href="#__codelineno-0-512">512</a></span>
<span class="normal"><a href="#__codelineno-0-513">513</a></span>
<span class="normal"><a href="#__codelineno-0-514">514</a></span>
<span class="normal"><a href="#__codelineno-0-515">515</a></span>
<span class="normal"><a href="#__codelineno-0-516">516</a></span>
<span class="normal"><a href="#__codelineno-0-517">517</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-465" name="__codelineno-0-465"></a><span class="k">def</span><span class="w"> </span><span class="nf">verify_specification</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">upir</span><span class="p">:</span> <span class="n">UPIR</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">VerificationResult</span><span class="p">]:</span>
<a id="__codelineno-0-466" name="__codelineno-0-466"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-467" name="__codelineno-0-467"></a><span class="sd">    Verify all properties in a UPIR specification.</span>
<a id="__codelineno-0-468" name="__codelineno-0-468"></a>
<a id="__codelineno-0-469" name="__codelineno-0-469"></a><span class="sd">    Verifies both invariants and properties from the formal specification</span>
<a id="__codelineno-0-470" name="__codelineno-0-470"></a><span class="sd">    against the architecture. Returns results for all properties.</span>
<a id="__codelineno-0-471" name="__codelineno-0-471"></a>
<a id="__codelineno-0-472" name="__codelineno-0-472"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-473" name="__codelineno-0-473"></a><span class="sd">        upir: UPIR instance with specification and architecture</span>
<a id="__codelineno-0-474" name="__codelineno-0-474"></a>
<a id="__codelineno-0-475" name="__codelineno-0-475"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-476" name="__codelineno-0-476"></a><span class="sd">        List of VerificationResult, one per property</span>
<a id="__codelineno-0-477" name="__codelineno-0-477"></a>
<a id="__codelineno-0-478" name="__codelineno-0-478"></a><span class="sd">    Raises:</span>
<a id="__codelineno-0-479" name="__codelineno-0-479"></a><span class="sd">        ValueError: If UPIR is missing specification or architecture</span>
<a id="__codelineno-0-480" name="__codelineno-0-480"></a>
<a id="__codelineno-0-481" name="__codelineno-0-481"></a><span class="sd">    Example:</span>
<a id="__codelineno-0-482" name="__codelineno-0-482"></a><span class="sd">        &gt;&gt;&gt; upir = UPIR(...)</span>
<a id="__codelineno-0-483" name="__codelineno-0-483"></a><span class="sd">        &gt;&gt;&gt; upir.specification = FormalSpecification(...)</span>
<a id="__codelineno-0-484" name="__codelineno-0-484"></a><span class="sd">        &gt;&gt;&gt; upir.architecture = Architecture(...)</span>
<a id="__codelineno-0-485" name="__codelineno-0-485"></a><span class="sd">        &gt;&gt;&gt; results = verifier.verify_specification(upir)</span>
<a id="__codelineno-0-486" name="__codelineno-0-486"></a><span class="sd">        &gt;&gt;&gt; verified_count = sum(1 for r in results if r.verified)</span>
<a id="__codelineno-0-487" name="__codelineno-0-487"></a><span class="sd">        &gt;&gt;&gt; print(f&quot;Verified {verified_count}/{len(results)} properties&quot;)</span>
<a id="__codelineno-0-488" name="__codelineno-0-488"></a>
<a id="__codelineno-0-489" name="__codelineno-0-489"></a><span class="sd">    References:</span>
<a id="__codelineno-0-490" name="__codelineno-0-490"></a><span class="sd">    - TD Commons: Specification verification workflow</span>
<a id="__codelineno-0-491" name="__codelineno-0-491"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-492" name="__codelineno-0-492"></a>    <span class="k">if</span> <span class="n">upir</span><span class="o">.</span><span class="n">specification</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-493" name="__codelineno-0-493"></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;UPIR must have a specification to verify&quot;</span><span class="p">)</span>
<a id="__codelineno-0-494" name="__codelineno-0-494"></a>    <span class="k">if</span> <span class="n">upir</span><span class="o">.</span><span class="n">architecture</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-495" name="__codelineno-0-495"></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;UPIR must have an architecture to verify&quot;</span><span class="p">)</span>
<a id="__codelineno-0-496" name="__codelineno-0-496"></a>
<a id="__codelineno-0-497" name="__codelineno-0-497"></a>    <span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-498" name="__codelineno-0-498"></a>
<a id="__codelineno-0-499" name="__codelineno-0-499"></a>    <span class="c1"># Verify invariants</span>
<a id="__codelineno-0-500" name="__codelineno-0-500"></a>    <span class="k">for</span> <span class="n">invariant</span> <span class="ow">in</span> <span class="n">upir</span><span class="o">.</span><span class="n">specification</span><span class="o">.</span><span class="n">invariants</span><span class="p">:</span>
<a id="__codelineno-0-501" name="__codelineno-0-501"></a>        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">verify_property</span><span class="p">(</span>
<a id="__codelineno-0-502" name="__codelineno-0-502"></a>            <span class="nb">property</span><span class="o">=</span><span class="n">invariant</span><span class="p">,</span>
<a id="__codelineno-0-503" name="__codelineno-0-503"></a>            <span class="n">architecture</span><span class="o">=</span><span class="n">upir</span><span class="o">.</span><span class="n">architecture</span><span class="p">,</span>
<a id="__codelineno-0-504" name="__codelineno-0-504"></a>            <span class="n">assumptions</span><span class="o">=</span><span class="n">upir</span><span class="o">.</span><span class="n">specification</span><span class="o">.</span><span class="n">assumptions</span>
<a id="__codelineno-0-505" name="__codelineno-0-505"></a>        <span class="p">)</span>
<a id="__codelineno-0-506" name="__codelineno-0-506"></a>        <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<a id="__codelineno-0-507" name="__codelineno-0-507"></a>
<a id="__codelineno-0-508" name="__codelineno-0-508"></a>    <span class="c1"># Verify properties</span>
<a id="__codelineno-0-509" name="__codelineno-0-509"></a>    <span class="k">for</span> <span class="nb">property</span> <span class="ow">in</span> <span class="n">upir</span><span class="o">.</span><span class="n">specification</span><span class="o">.</span><span class="n">properties</span><span class="p">:</span>
<a id="__codelineno-0-510" name="__codelineno-0-510"></a>        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">verify_property</span><span class="p">(</span>
<a id="__codelineno-0-511" name="__codelineno-0-511"></a>            <span class="nb">property</span><span class="o">=</span><span class="nb">property</span><span class="p">,</span>
<a id="__codelineno-0-512" name="__codelineno-0-512"></a>            <span class="n">architecture</span><span class="o">=</span><span class="n">upir</span><span class="o">.</span><span class="n">architecture</span><span class="p">,</span>
<a id="__codelineno-0-513" name="__codelineno-0-513"></a>            <span class="n">assumptions</span><span class="o">=</span><span class="n">upir</span><span class="o">.</span><span class="n">specification</span><span class="o">.</span><span class="n">assumptions</span>
<a id="__codelineno-0-514" name="__codelineno-0-514"></a>        <span class="p">)</span>
<a id="__codelineno-0-515" name="__codelineno-0-515"></a>        <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<a id="__codelineno-0-516" name="__codelineno-0-516"></a>
<a id="__codelineno-0-517" name="__codelineno-0-517"></a>    <span class="k">return</span> <span class="n">results</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="upir.verification.verifier.Verifier.verify_incremental" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">verify_incremental</span><span class="p">(</span><span class="n">upir</span><span class="p">,</span> <span class="n">changed_properties</span><span class="p">)</span></code>

<a href="#upir.verification.verifier.Verifier.verify_incremental" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

        <p>Incrementally verify only changed properties, using cache for rest.</p>
<p>Per TD Commons disclosure, incremental verification is critical for
performance when iterating on architectures. Only changed properties
are re-verified; unchanged properties use cached results when available.</p>
<p>This method:
1. Invalidates cache if architecture changed (detects by hash)
2. Re-verifies changed properties (forced verification)
3. Uses cache for unchanged properties (may still miss if not cached)
4. Logs cache statistics at INFO level</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>upir</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="upir.core.upir.UPIR


  
      dataclass
  " href="../../core/upir/#upir.core.upir.UPIR">UPIR</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>UPIR instance with specification and architecture</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>changed_properties</code>
            </td>
            <td>
                  <code><span title="typing.Set">Set</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Set of predicate names that changed
              (e.g., {"data_consistent", "backup_complete"})</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="upir.verification.solver.VerificationResult


  
      dataclass
  " href="../solver/#upir.verification.solver.VerificationResult">VerificationResult</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of VerificationResult for all properties (invariants + properties)</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If UPIR is missing specification or architecture</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<h5 id="upir.verification.verifier.Verifier.verify_incremental--initial-verification-all-cache-misses">Initial verification (all cache misses)<a class="headerlink" href="#upir.verification.verifier.Verifier.verify_incremental--initial-verification-all-cache-misses" title="Permanent link">&para;</a></h5>
<p>upir = UPIR(...)
upir.specification = FormalSpecification(
...     properties=[
...         TemporalProperty(ALWAYS, "data_consistent"),
...         TemporalProperty(EVENTUALLY, "backup_complete"),
...         TemporalProperty(WITHIN, "response_fast", time_bound=1.0)
...     ]
... )
upir.architecture = Architecture(...)
verifier = Verifier(enable_cache=True)</p>
<h5 id="upir.verification.verifier.Verifier.verify_incremental--first-verification-all-misses">First verification - all misses<a class="headerlink" href="#upir.verification.verifier.Verifier.verify_incremental--first-verification-all-misses" title="Permanent link">&para;</a></h5>
<p>results = verifier.verify_incremental(upir, set())</p>
<h5 id="upir.verification.verifier.Verifier.verify_incremental--info-cache-statistics-0-hits-3-misses-hit-rate-00">INFO: Cache statistics: 0 hits, 3 misses, hit rate: 0.0%<a class="headerlink" href="#upir.verification.verifier.Verifier.verify_incremental--info-cache-statistics-0-hits-3-misses-hit-rate-00" title="Permanent link">&para;</a></h5>
<p>assert verifier.cache.misses == 3
assert verifier.cache.hits == 0</p>
<h5 id="upir.verification.verifier.Verifier.verify_incremental--second-verification-with-one-change-2-hits-1-miss">Second verification with one change - 2 hits, 1 miss<a class="headerlink" href="#upir.verification.verifier.Verifier.verify_incremental--second-verification-with-one-change-2-hits-1-miss" title="Permanent link">&para;</a></h5>
<p>results = verifier.verify_incremental(
...     upir,
...     changed_properties={"backup_complete"}
... )</p>
<h5 id="upir.verification.verifier.Verifier.verify_incremental--info-cache-statistics-2-hits-4-misses-hit-rate-333">INFO: Cache statistics: 2 hits, 4 misses, hit rate: 33.3%<a class="headerlink" href="#upir.verification.verifier.Verifier.verify_incremental--info-cache-statistics-2-hits-4-misses-hit-rate-333" title="Permanent link">&para;</a></h5>
<p>assert verifier.cache.hits == 2  # data_consistent, response_fast
assert verifier.cache.misses == 4  # 3 initial + 1 for backup_complete</p>
<h5 id="upir.verification.verifier.Verifier.verify_incremental--third-verification-with-no-changes-3-hits-0-new-misses">Third verification with no changes - 3 hits, 0 new misses<a class="headerlink" href="#upir.verification.verifier.Verifier.verify_incremental--third-verification-with-no-changes-3-hits-0-new-misses" title="Permanent link">&para;</a></h5>
<p>results = verifier.verify_incremental(upir, set())</p>
<h5 id="upir.verification.verifier.Verifier.verify_incremental--info-cache-statistics-5-hits-4-misses-hit-rate-556">INFO: Cache statistics: 5 hits, 4 misses, hit rate: 55.6%<a class="headerlink" href="#upir.verification.verifier.Verifier.verify_incremental--info-cache-statistics-5-hits-4-misses-hit-rate-556" title="Permanent link">&para;</a></h5>
<p>assert verifier.cache.hit_rate() &gt; 50.0</p>
</blockquote>
</blockquote>
</blockquote>
</details>        <p>References:
- TD Commons: Incremental verification section
- Cache invalidation on architecture changes</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>upir/verification/verifier.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-519">519</a></span>
<span class="normal"><a href="#__codelineno-0-520">520</a></span>
<span class="normal"><a href="#__codelineno-0-521">521</a></span>
<span class="normal"><a href="#__codelineno-0-522">522</a></span>
<span class="normal"><a href="#__codelineno-0-523">523</a></span>
<span class="normal"><a href="#__codelineno-0-524">524</a></span>
<span class="normal"><a href="#__codelineno-0-525">525</a></span>
<span class="normal"><a href="#__codelineno-0-526">526</a></span>
<span class="normal"><a href="#__codelineno-0-527">527</a></span>
<span class="normal"><a href="#__codelineno-0-528">528</a></span>
<span class="normal"><a href="#__codelineno-0-529">529</a></span>
<span class="normal"><a href="#__codelineno-0-530">530</a></span>
<span class="normal"><a href="#__codelineno-0-531">531</a></span>
<span class="normal"><a href="#__codelineno-0-532">532</a></span>
<span class="normal"><a href="#__codelineno-0-533">533</a></span>
<span class="normal"><a href="#__codelineno-0-534">534</a></span>
<span class="normal"><a href="#__codelineno-0-535">535</a></span>
<span class="normal"><a href="#__codelineno-0-536">536</a></span>
<span class="normal"><a href="#__codelineno-0-537">537</a></span>
<span class="normal"><a href="#__codelineno-0-538">538</a></span>
<span class="normal"><a href="#__codelineno-0-539">539</a></span>
<span class="normal"><a href="#__codelineno-0-540">540</a></span>
<span class="normal"><a href="#__codelineno-0-541">541</a></span>
<span class="normal"><a href="#__codelineno-0-542">542</a></span>
<span class="normal"><a href="#__codelineno-0-543">543</a></span>
<span class="normal"><a href="#__codelineno-0-544">544</a></span>
<span class="normal"><a href="#__codelineno-0-545">545</a></span>
<span class="normal"><a href="#__codelineno-0-546">546</a></span>
<span class="normal"><a href="#__codelineno-0-547">547</a></span>
<span class="normal"><a href="#__codelineno-0-548">548</a></span>
<span class="normal"><a href="#__codelineno-0-549">549</a></span>
<span class="normal"><a href="#__codelineno-0-550">550</a></span>
<span class="normal"><a href="#__codelineno-0-551">551</a></span>
<span class="normal"><a href="#__codelineno-0-552">552</a></span>
<span class="normal"><a href="#__codelineno-0-553">553</a></span>
<span class="normal"><a href="#__codelineno-0-554">554</a></span>
<span class="normal"><a href="#__codelineno-0-555">555</a></span>
<span class="normal"><a href="#__codelineno-0-556">556</a></span>
<span class="normal"><a href="#__codelineno-0-557">557</a></span>
<span class="normal"><a href="#__codelineno-0-558">558</a></span>
<span class="normal"><a href="#__codelineno-0-559">559</a></span>
<span class="normal"><a href="#__codelineno-0-560">560</a></span>
<span class="normal"><a href="#__codelineno-0-561">561</a></span>
<span class="normal"><a href="#__codelineno-0-562">562</a></span>
<span class="normal"><a href="#__codelineno-0-563">563</a></span>
<span class="normal"><a href="#__codelineno-0-564">564</a></span>
<span class="normal"><a href="#__codelineno-0-565">565</a></span>
<span class="normal"><a href="#__codelineno-0-566">566</a></span>
<span class="normal"><a href="#__codelineno-0-567">567</a></span>
<span class="normal"><a href="#__codelineno-0-568">568</a></span>
<span class="normal"><a href="#__codelineno-0-569">569</a></span>
<span class="normal"><a href="#__codelineno-0-570">570</a></span>
<span class="normal"><a href="#__codelineno-0-571">571</a></span>
<span class="normal"><a href="#__codelineno-0-572">572</a></span>
<span class="normal"><a href="#__codelineno-0-573">573</a></span>
<span class="normal"><a href="#__codelineno-0-574">574</a></span>
<span class="normal"><a href="#__codelineno-0-575">575</a></span>
<span class="normal"><a href="#__codelineno-0-576">576</a></span>
<span class="normal"><a href="#__codelineno-0-577">577</a></span>
<span class="normal"><a href="#__codelineno-0-578">578</a></span>
<span class="normal"><a href="#__codelineno-0-579">579</a></span>
<span class="normal"><a href="#__codelineno-0-580">580</a></span>
<span class="normal"><a href="#__codelineno-0-581">581</a></span>
<span class="normal"><a href="#__codelineno-0-582">582</a></span>
<span class="normal"><a href="#__codelineno-0-583">583</a></span>
<span class="normal"><a href="#__codelineno-0-584">584</a></span>
<span class="normal"><a href="#__codelineno-0-585">585</a></span>
<span class="normal"><a href="#__codelineno-0-586">586</a></span>
<span class="normal"><a href="#__codelineno-0-587">587</a></span>
<span class="normal"><a href="#__codelineno-0-588">588</a></span>
<span class="normal"><a href="#__codelineno-0-589">589</a></span>
<span class="normal"><a href="#__codelineno-0-590">590</a></span>
<span class="normal"><a href="#__codelineno-0-591">591</a></span>
<span class="normal"><a href="#__codelineno-0-592">592</a></span>
<span class="normal"><a href="#__codelineno-0-593">593</a></span>
<span class="normal"><a href="#__codelineno-0-594">594</a></span>
<span class="normal"><a href="#__codelineno-0-595">595</a></span>
<span class="normal"><a href="#__codelineno-0-596">596</a></span>
<span class="normal"><a href="#__codelineno-0-597">597</a></span>
<span class="normal"><a href="#__codelineno-0-598">598</a></span>
<span class="normal"><a href="#__codelineno-0-599">599</a></span>
<span class="normal"><a href="#__codelineno-0-600">600</a></span>
<span class="normal"><a href="#__codelineno-0-601">601</a></span>
<span class="normal"><a href="#__codelineno-0-602">602</a></span>
<span class="normal"><a href="#__codelineno-0-603">603</a></span>
<span class="normal"><a href="#__codelineno-0-604">604</a></span>
<span class="normal"><a href="#__codelineno-0-605">605</a></span>
<span class="normal"><a href="#__codelineno-0-606">606</a></span>
<span class="normal"><a href="#__codelineno-0-607">607</a></span>
<span class="normal"><a href="#__codelineno-0-608">608</a></span>
<span class="normal"><a href="#__codelineno-0-609">609</a></span>
<span class="normal"><a href="#__codelineno-0-610">610</a></span>
<span class="normal"><a href="#__codelineno-0-611">611</a></span>
<span class="normal"><a href="#__codelineno-0-612">612</a></span>
<span class="normal"><a href="#__codelineno-0-613">613</a></span>
<span class="normal"><a href="#__codelineno-0-614">614</a></span>
<span class="normal"><a href="#__codelineno-0-615">615</a></span>
<span class="normal"><a href="#__codelineno-0-616">616</a></span>
<span class="normal"><a href="#__codelineno-0-617">617</a></span>
<span class="normal"><a href="#__codelineno-0-618">618</a></span>
<span class="normal"><a href="#__codelineno-0-619">619</a></span>
<span class="normal"><a href="#__codelineno-0-620">620</a></span>
<span class="normal"><a href="#__codelineno-0-621">621</a></span>
<span class="normal"><a href="#__codelineno-0-622">622</a></span>
<span class="normal"><a href="#__codelineno-0-623">623</a></span>
<span class="normal"><a href="#__codelineno-0-624">624</a></span>
<span class="normal"><a href="#__codelineno-0-625">625</a></span>
<span class="normal"><a href="#__codelineno-0-626">626</a></span>
<span class="normal"><a href="#__codelineno-0-627">627</a></span>
<span class="normal"><a href="#__codelineno-0-628">628</a></span>
<span class="normal"><a href="#__codelineno-0-629">629</a></span>
<span class="normal"><a href="#__codelineno-0-630">630</a></span>
<span class="normal"><a href="#__codelineno-0-631">631</a></span>
<span class="normal"><a href="#__codelineno-0-632">632</a></span>
<span class="normal"><a href="#__codelineno-0-633">633</a></span>
<span class="normal"><a href="#__codelineno-0-634">634</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-519" name="__codelineno-0-519"></a><span class="k">def</span><span class="w"> </span><span class="nf">verify_incremental</span><span class="p">(</span>
<a id="__codelineno-0-520" name="__codelineno-0-520"></a>    <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-521" name="__codelineno-0-521"></a>    <span class="n">upir</span><span class="p">:</span> <span class="n">UPIR</span><span class="p">,</span>
<a id="__codelineno-0-522" name="__codelineno-0-522"></a>    <span class="n">changed_properties</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
<a id="__codelineno-0-523" name="__codelineno-0-523"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">VerificationResult</span><span class="p">]:</span>
<a id="__codelineno-0-524" name="__codelineno-0-524"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-525" name="__codelineno-0-525"></a><span class="sd">    Incrementally verify only changed properties, using cache for rest.</span>
<a id="__codelineno-0-526" name="__codelineno-0-526"></a>
<a id="__codelineno-0-527" name="__codelineno-0-527"></a><span class="sd">    Per TD Commons disclosure, incremental verification is critical for</span>
<a id="__codelineno-0-528" name="__codelineno-0-528"></a><span class="sd">    performance when iterating on architectures. Only changed properties</span>
<a id="__codelineno-0-529" name="__codelineno-0-529"></a><span class="sd">    are re-verified; unchanged properties use cached results when available.</span>
<a id="__codelineno-0-530" name="__codelineno-0-530"></a>
<a id="__codelineno-0-531" name="__codelineno-0-531"></a><span class="sd">    This method:</span>
<a id="__codelineno-0-532" name="__codelineno-0-532"></a><span class="sd">    1. Invalidates cache if architecture changed (detects by hash)</span>
<a id="__codelineno-0-533" name="__codelineno-0-533"></a><span class="sd">    2. Re-verifies changed properties (forced verification)</span>
<a id="__codelineno-0-534" name="__codelineno-0-534"></a><span class="sd">    3. Uses cache for unchanged properties (may still miss if not cached)</span>
<a id="__codelineno-0-535" name="__codelineno-0-535"></a><span class="sd">    4. Logs cache statistics at INFO level</span>
<a id="__codelineno-0-536" name="__codelineno-0-536"></a>
<a id="__codelineno-0-537" name="__codelineno-0-537"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-538" name="__codelineno-0-538"></a><span class="sd">        upir: UPIR instance with specification and architecture</span>
<a id="__codelineno-0-539" name="__codelineno-0-539"></a><span class="sd">        changed_properties: Set of predicate names that changed</span>
<a id="__codelineno-0-540" name="__codelineno-0-540"></a><span class="sd">                          (e.g., {&quot;data_consistent&quot;, &quot;backup_complete&quot;})</span>
<a id="__codelineno-0-541" name="__codelineno-0-541"></a>
<a id="__codelineno-0-542" name="__codelineno-0-542"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-543" name="__codelineno-0-543"></a><span class="sd">        List of VerificationResult for all properties (invariants + properties)</span>
<a id="__codelineno-0-544" name="__codelineno-0-544"></a>
<a id="__codelineno-0-545" name="__codelineno-0-545"></a><span class="sd">    Raises:</span>
<a id="__codelineno-0-546" name="__codelineno-0-546"></a><span class="sd">        ValueError: If UPIR is missing specification or architecture</span>
<a id="__codelineno-0-547" name="__codelineno-0-547"></a>
<a id="__codelineno-0-548" name="__codelineno-0-548"></a><span class="sd">    Example:</span>
<a id="__codelineno-0-549" name="__codelineno-0-549"></a><span class="sd">        &gt;&gt;&gt; # Initial verification (all cache misses)</span>
<a id="__codelineno-0-550" name="__codelineno-0-550"></a><span class="sd">        &gt;&gt;&gt; upir = UPIR(...)</span>
<a id="__codelineno-0-551" name="__codelineno-0-551"></a><span class="sd">        &gt;&gt;&gt; upir.specification = FormalSpecification(</span>
<a id="__codelineno-0-552" name="__codelineno-0-552"></a><span class="sd">        ...     properties=[</span>
<a id="__codelineno-0-553" name="__codelineno-0-553"></a><span class="sd">        ...         TemporalProperty(ALWAYS, &quot;data_consistent&quot;),</span>
<a id="__codelineno-0-554" name="__codelineno-0-554"></a><span class="sd">        ...         TemporalProperty(EVENTUALLY, &quot;backup_complete&quot;),</span>
<a id="__codelineno-0-555" name="__codelineno-0-555"></a><span class="sd">        ...         TemporalProperty(WITHIN, &quot;response_fast&quot;, time_bound=1.0)</span>
<a id="__codelineno-0-556" name="__codelineno-0-556"></a><span class="sd">        ...     ]</span>
<a id="__codelineno-0-557" name="__codelineno-0-557"></a><span class="sd">        ... )</span>
<a id="__codelineno-0-558" name="__codelineno-0-558"></a><span class="sd">        &gt;&gt;&gt; upir.architecture = Architecture(...)</span>
<a id="__codelineno-0-559" name="__codelineno-0-559"></a><span class="sd">        &gt;&gt;&gt; verifier = Verifier(enable_cache=True)</span>
<a id="__codelineno-0-560" name="__codelineno-0-560"></a><span class="sd">        &gt;&gt;&gt;</span>
<a id="__codelineno-0-561" name="__codelineno-0-561"></a><span class="sd">        &gt;&gt;&gt; # First verification - all misses</span>
<a id="__codelineno-0-562" name="__codelineno-0-562"></a><span class="sd">        &gt;&gt;&gt; results = verifier.verify_incremental(upir, set())</span>
<a id="__codelineno-0-563" name="__codelineno-0-563"></a><span class="sd">        &gt;&gt;&gt; # INFO: Cache statistics: 0 hits, 3 misses, hit rate: 0.0%</span>
<a id="__codelineno-0-564" name="__codelineno-0-564"></a><span class="sd">        &gt;&gt;&gt; assert verifier.cache.misses == 3</span>
<a id="__codelineno-0-565" name="__codelineno-0-565"></a><span class="sd">        &gt;&gt;&gt; assert verifier.cache.hits == 0</span>
<a id="__codelineno-0-566" name="__codelineno-0-566"></a><span class="sd">        &gt;&gt;&gt;</span>
<a id="__codelineno-0-567" name="__codelineno-0-567"></a><span class="sd">        &gt;&gt;&gt; # Second verification with one change - 2 hits, 1 miss</span>
<a id="__codelineno-0-568" name="__codelineno-0-568"></a><span class="sd">        &gt;&gt;&gt; results = verifier.verify_incremental(</span>
<a id="__codelineno-0-569" name="__codelineno-0-569"></a><span class="sd">        ...     upir,</span>
<a id="__codelineno-0-570" name="__codelineno-0-570"></a><span class="sd">        ...     changed_properties={&quot;backup_complete&quot;}</span>
<a id="__codelineno-0-571" name="__codelineno-0-571"></a><span class="sd">        ... )</span>
<a id="__codelineno-0-572" name="__codelineno-0-572"></a><span class="sd">        &gt;&gt;&gt; # INFO: Cache statistics: 2 hits, 4 misses, hit rate: 33.3%</span>
<a id="__codelineno-0-573" name="__codelineno-0-573"></a><span class="sd">        &gt;&gt;&gt; assert verifier.cache.hits == 2  # data_consistent, response_fast</span>
<a id="__codelineno-0-574" name="__codelineno-0-574"></a><span class="sd">        &gt;&gt;&gt; assert verifier.cache.misses == 4  # 3 initial + 1 for backup_complete</span>
<a id="__codelineno-0-575" name="__codelineno-0-575"></a><span class="sd">        &gt;&gt;&gt;</span>
<a id="__codelineno-0-576" name="__codelineno-0-576"></a><span class="sd">        &gt;&gt;&gt; # Third verification with no changes - 3 hits, 0 new misses</span>
<a id="__codelineno-0-577" name="__codelineno-0-577"></a><span class="sd">        &gt;&gt;&gt; results = verifier.verify_incremental(upir, set())</span>
<a id="__codelineno-0-578" name="__codelineno-0-578"></a><span class="sd">        &gt;&gt;&gt; # INFO: Cache statistics: 5 hits, 4 misses, hit rate: 55.6%</span>
<a id="__codelineno-0-579" name="__codelineno-0-579"></a><span class="sd">        &gt;&gt;&gt; assert verifier.cache.hit_rate() &gt; 50.0</span>
<a id="__codelineno-0-580" name="__codelineno-0-580"></a>
<a id="__codelineno-0-581" name="__codelineno-0-581"></a><span class="sd">    References:</span>
<a id="__codelineno-0-582" name="__codelineno-0-582"></a><span class="sd">    - TD Commons: Incremental verification section</span>
<a id="__codelineno-0-583" name="__codelineno-0-583"></a><span class="sd">    - Cache invalidation on architecture changes</span>
<a id="__codelineno-0-584" name="__codelineno-0-584"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-585" name="__codelineno-0-585"></a>    <span class="k">if</span> <span class="n">upir</span><span class="o">.</span><span class="n">specification</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-586" name="__codelineno-0-586"></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;UPIR must have a specification to verify&quot;</span><span class="p">)</span>
<a id="__codelineno-0-587" name="__codelineno-0-587"></a>    <span class="k">if</span> <span class="n">upir</span><span class="o">.</span><span class="n">architecture</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-588" name="__codelineno-0-588"></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;UPIR must have an architecture to verify&quot;</span><span class="p">)</span>
<a id="__codelineno-0-589" name="__codelineno-0-589"></a>
<a id="__codelineno-0-590" name="__codelineno-0-590"></a>    <span class="c1"># Track previous architecture hash to detect changes</span>
<a id="__codelineno-0-591" name="__codelineno-0-591"></a>    <span class="c1"># (In production, could store this in UPIR or verifier state)</span>
<a id="__codelineno-0-592" name="__codelineno-0-592"></a>    <span class="n">current_arch_hash</span> <span class="o">=</span> <span class="n">upir</span><span class="o">.</span><span class="n">architecture</span><span class="o">.</span><span class="n">hash</span><span class="p">()</span>
<a id="__codelineno-0-593" name="__codelineno-0-593"></a>
<a id="__codelineno-0-594" name="__codelineno-0-594"></a>    <span class="c1"># Invalidate cache entries for changed properties</span>
<a id="__codelineno-0-595" name="__codelineno-0-595"></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">enable_cache</span> <span class="ow">and</span> <span class="n">changed_properties</span><span class="p">:</span>
<a id="__codelineno-0-596" name="__codelineno-0-596"></a>        <span class="c1"># Remove cache entries for changed properties</span>
<a id="__codelineno-0-597" name="__codelineno-0-597"></a>        <span class="c1"># We need to recompute cache keys for changed properties</span>
<a id="__codelineno-0-598" name="__codelineno-0-598"></a>        <span class="n">all_props</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">upir</span><span class="o">.</span><span class="n">specification</span><span class="o">.</span><span class="n">invariants</span><span class="p">)</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="n">upir</span><span class="o">.</span><span class="n">specification</span><span class="o">.</span><span class="n">properties</span><span class="p">)</span>
<a id="__codelineno-0-599" name="__codelineno-0-599"></a>        <span class="k">for</span> <span class="n">prop</span> <span class="ow">in</span> <span class="n">all_props</span><span class="p">:</span>
<a id="__codelineno-0-600" name="__codelineno-0-600"></a>            <span class="k">if</span> <span class="n">prop</span><span class="o">.</span><span class="n">predicate</span> <span class="ow">in</span> <span class="n">changed_properties</span><span class="p">:</span>
<a id="__codelineno-0-601" name="__codelineno-0-601"></a>                <span class="n">cache_key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache</span><span class="o">.</span><span class="n">_compute_key</span><span class="p">(</span><span class="n">prop</span><span class="p">,</span> <span class="n">upir</span><span class="o">.</span><span class="n">architecture</span><span class="p">)</span>
<a id="__codelineno-0-602" name="__codelineno-0-602"></a>                <span class="k">if</span> <span class="n">cache_key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache</span><span class="o">.</span><span class="n">cache</span><span class="p">:</span>
<a id="__codelineno-0-603" name="__codelineno-0-603"></a>                    <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache</span><span class="o">.</span><span class="n">cache</span><span class="p">[</span><span class="n">cache_key</span><span class="p">]</span>
<a id="__codelineno-0-604" name="__codelineno-0-604"></a>
<a id="__codelineno-0-605" name="__codelineno-0-605"></a>    <span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-606" name="__codelineno-0-606"></a>
<a id="__codelineno-0-607" name="__codelineno-0-607"></a>    <span class="c1"># Verify invariants</span>
<a id="__codelineno-0-608" name="__codelineno-0-608"></a>    <span class="c1"># verify_property will check cache; changed properties were invalidated above</span>
<a id="__codelineno-0-609" name="__codelineno-0-609"></a>    <span class="k">for</span> <span class="n">invariant</span> <span class="ow">in</span> <span class="n">upir</span><span class="o">.</span><span class="n">specification</span><span class="o">.</span><span class="n">invariants</span><span class="p">:</span>
<a id="__codelineno-0-610" name="__codelineno-0-610"></a>        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">verify_property</span><span class="p">(</span>
<a id="__codelineno-0-611" name="__codelineno-0-611"></a>            <span class="nb">property</span><span class="o">=</span><span class="n">invariant</span><span class="p">,</span>
<a id="__codelineno-0-612" name="__codelineno-0-612"></a>            <span class="n">architecture</span><span class="o">=</span><span class="n">upir</span><span class="o">.</span><span class="n">architecture</span><span class="p">,</span>
<a id="__codelineno-0-613" name="__codelineno-0-613"></a>            <span class="n">assumptions</span><span class="o">=</span><span class="n">upir</span><span class="o">.</span><span class="n">specification</span><span class="o">.</span><span class="n">assumptions</span>
<a id="__codelineno-0-614" name="__codelineno-0-614"></a>        <span class="p">)</span>
<a id="__codelineno-0-615" name="__codelineno-0-615"></a>        <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<a id="__codelineno-0-616" name="__codelineno-0-616"></a>
<a id="__codelineno-0-617" name="__codelineno-0-617"></a>    <span class="c1"># Verify properties</span>
<a id="__codelineno-0-618" name="__codelineno-0-618"></a>    <span class="k">for</span> <span class="nb">property</span> <span class="ow">in</span> <span class="n">upir</span><span class="o">.</span><span class="n">specification</span><span class="o">.</span><span class="n">properties</span><span class="p">:</span>
<a id="__codelineno-0-619" name="__codelineno-0-619"></a>        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">verify_property</span><span class="p">(</span>
<a id="__codelineno-0-620" name="__codelineno-0-620"></a>            <span class="nb">property</span><span class="o">=</span><span class="nb">property</span><span class="p">,</span>
<a id="__codelineno-0-621" name="__codelineno-0-621"></a>            <span class="n">architecture</span><span class="o">=</span><span class="n">upir</span><span class="o">.</span><span class="n">architecture</span><span class="p">,</span>
<a id="__codelineno-0-622" name="__codelineno-0-622"></a>            <span class="n">assumptions</span><span class="o">=</span><span class="n">upir</span><span class="o">.</span><span class="n">specification</span><span class="o">.</span><span class="n">assumptions</span>
<a id="__codelineno-0-623" name="__codelineno-0-623"></a>        <span class="p">)</span>
<a id="__codelineno-0-624" name="__codelineno-0-624"></a>        <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<a id="__codelineno-0-625" name="__codelineno-0-625"></a>
<a id="__codelineno-0-626" name="__codelineno-0-626"></a>    <span class="c1"># Log cache statistics</span>
<a id="__codelineno-0-627" name="__codelineno-0-627"></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">enable_cache</span><span class="p">:</span>
<a id="__codelineno-0-628" name="__codelineno-0-628"></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
<a id="__codelineno-0-629" name="__codelineno-0-629"></a>            <span class="sa">f</span><span class="s2">&quot;Cache statistics: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">cache</span><span class="o">.</span><span class="n">hits</span><span class="si">}</span><span class="s2"> hits, &quot;</span>
<a id="__codelineno-0-630" name="__codelineno-0-630"></a>            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">cache</span><span class="o">.</span><span class="n">misses</span><span class="si">}</span><span class="s2"> misses, &quot;</span>
<a id="__codelineno-0-631" name="__codelineno-0-631"></a>            <span class="sa">f</span><span class="s2">&quot;hit rate: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">cache</span><span class="o">.</span><span class="n">hit_rate</span><span class="p">()</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">%&quot;</span>
<a id="__codelineno-0-632" name="__codelineno-0-632"></a>        <span class="p">)</span>
<a id="__codelineno-0-633" name="__codelineno-0-633"></a>
<a id="__codelineno-0-634" name="__codelineno-0-634"></a>    <span class="k">return</span> <span class="n">results</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="upir.verification.verifier.Verifier.__str__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__str__</span><span class="p">()</span></code>

<a href="#upir.verification.verifier.Verifier.__str__" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

        <p>Human-readable representation.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>upir/verification/verifier.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-787">787</a></span>
<span class="normal"><a href="#__codelineno-0-788">788</a></span>
<span class="normal"><a href="#__codelineno-0-789">789</a></span>
<span class="normal"><a href="#__codelineno-0-790">790</a></span>
<span class="normal"><a href="#__codelineno-0-791">791</a></span>
<span class="normal"><a href="#__codelineno-0-792">792</a></span>
<span class="normal"><a href="#__codelineno-0-793">793</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-787" name="__codelineno-0-787"></a><span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<a id="__codelineno-0-788" name="__codelineno-0-788"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Human-readable representation.&quot;&quot;&quot;</span>
<a id="__codelineno-0-789" name="__codelineno-0-789"></a>    <span class="n">cache_info</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">enable_cache</span> <span class="k">else</span> <span class="s2">&quot;disabled&quot;</span>
<a id="__codelineno-0-790" name="__codelineno-0-790"></a>    <span class="k">return</span> <span class="p">(</span>
<a id="__codelineno-0-791" name="__codelineno-0-791"></a>        <span class="sa">f</span><span class="s2">&quot;Verifier(timeout=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">timeout</span><span class="si">}</span><span class="s2">ms, &quot;</span>
<a id="__codelineno-0-792" name="__codelineno-0-792"></a>        <span class="sa">f</span><span class="s2">&quot;cache=</span><span class="si">{</span><span class="n">cache_info</span><span class="si">}</span><span class="s2">)&quot;</span>
<a id="__codelineno-0-793" name="__codelineno-0-793"></a>    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><hr />
<h2 id="usage-example">Usage Example<a class="headerlink" href="#usage-example" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">upir</span><span class="w"> </span><span class="kn">import</span> <span class="n">UPIR</span><span class="p">,</span> <span class="n">FormalSpecification</span><span class="p">,</span> <span class="n">Architecture</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">upir.verification.verifier</span><span class="w"> </span><span class="kn">import</span> <span class="n">Verifier</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="kn">from</span><span class="w"> </span><span class="nn">upir.verification.solver</span><span class="w"> </span><span class="kn">import</span> <span class="n">VerificationStatus</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="c1"># Create UPIR instance</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="n">upir</span> <span class="o">=</span> <span class="n">UPIR</span><span class="p">(</span><span class="n">specification</span><span class="o">=</span><span class="n">spec</span><span class="p">,</span> <span class="n">architecture</span><span class="o">=</span><span class="n">arch</span><span class="p">)</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="c1"># Create verifier</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="n">verifier</span> <span class="o">=</span> <span class="n">Verifier</span><span class="p">(</span><span class="n">timeout_ms</span><span class="o">=</span><span class="mi">10000</span><span class="p">)</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="c1"># Verify specification</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="n">results</span> <span class="o">=</span> <span class="n">verifier</span><span class="o">.</span><span class="n">verify_specification</span><span class="p">(</span><span class="n">upir</span><span class="p">)</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="c1"># Check results</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a><span class="k">if</span> <span class="n">results</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="n">VerificationStatus</span><span class="o">.</span><span class="n">PROVED</span><span class="p">:</span>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; Verified! </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="o">.</span><span class="n">proved_properties</span><span class="p">)</span><span class="si">}</span><span class="s2"> properties proved&quot;</span><span class="p">)</span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Time: </span><span class="si">{</span><span class="n">results</span><span class="o">.</span><span class="n">total_time_ms</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">ms&quot;</span><span class="p">)</span>
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a><span class="k">elif</span> <span class="n">results</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="n">VerificationStatus</span><span class="o">.</span><span class="n">FAILED</span><span class="p">:</span>
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; Failed!&quot;</span><span class="p">)</span>
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>    <span class="k">for</span> <span class="n">counterexample</span> <span class="ow">in</span> <span class="n">results</span><span class="o">.</span><span class="n">counterexamples</span><span class="p">:</span>
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Counterexample: </span><span class="si">{</span><span class="n">counterexample</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a><span class="k">elif</span> <span class="n">results</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="n">VerificationStatus</span><span class="o">.</span><span class="n">UNKNOWN</span><span class="p">:</span>
<a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;? Unknown (timeout or incomplete)&quot;</span><span class="p">)</span>
</code></pre></div>
<hr />
<h2 id="incremental-verification">Incremental Verification<a class="headerlink" href="#incremental-verification" title="Permanent link">&para;</a></h2>
<p>The verifier caches proven properties:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="c1"># First verification</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="n">results1</span> <span class="o">=</span> <span class="n">verifier</span><span class="o">.</span><span class="n">verify_specification</span><span class="p">(</span><span class="n">upir</span><span class="p">)</span>  <span class="c1"># ~100ms</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="c1"># Modify architecture slightly</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="n">upir</span><span class="o">.</span><span class="n">architecture</span><span class="o">.</span><span class="n">components</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;latency_ms&quot;</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="c1"># Second verification (uses cached proofs)</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="n">results2</span> <span class="o">=</span> <span class="n">verifier</span><span class="o">.</span><span class="n">verify_specification</span><span class="p">(</span><span class="n">upir</span><span class="p">)</span>  <span class="c1"># ~10ms</span>
</code></pre></div>
<hr />
<h2 id="see-also">See Also<a class="headerlink" href="#see-also" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="../solver/">SMT Solver</a> - Low-level SMT solving</li>
<li><a href="../../core/specification/">FormalSpecification</a> - Create specifications</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2025 Subhadip Mitra. Licensed under Apache 2.0.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/bassrehab/upir" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["navigation.tabs", "navigation.sections", "navigation.expand", "navigation.top", "search.suggest", "search.highlight", "content.code.copy", "content.code.annotate"], "search": "../../../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
    
  </body>
</html>